var _e={exports:{}},le={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ue;function _n(){return Ue||(Ue=1,(function(e){function t(I,d){var O=I.length;I.push(d);e:for(;0<O;){var h=O-1>>>1,D=I[h];if(0<i(D,d))I[h]=d,I[O]=D,O=h;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var d=I[0],O=I.pop();if(O!==d){I[0]=O;e:for(var h=0,D=I.length,J=D>>>1;h<J;){var X=2*(h+1)-1,Ee=I[X],G=X+1,W=I[G];if(0>i(Ee,O))G<D&&0>i(W,Ee)?(I[h]=W,I[G]=O,h=G):(I[h]=Ee,I[X]=O,h=X);else if(G<D&&0>i(W,O))I[h]=W,I[G]=O,h=G;else break e}}return d}function i(I,d){var O=I.sortIndex-d.sortIndex;return O!==0?O:I.id-d.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var E=[],_=[],c=1,T=null,l=3,u=!1,A=!1,N=!1,f=!1,R=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function y(I){for(var d=n(_);d!==null;){if(d.callback===null)r(_);else if(d.startTime<=I)r(_),d.sortIndex=d.expirationTime,t(E,d);else break;d=n(_)}}function F(I){if(N=!1,y(I),!A)if(n(E)!==null)A=!0,P||(P=!0,B());else{var d=n(_);d!==null&&ae(F,d.startTime-I)}}var P=!1,w=-1,oe=5,m=-1;function De(){return f?!0:!(e.unstable_now()-m<oe)}function se(){if(f=!1,P){var I=e.unstable_now();m=I;var d=!0;try{e:{A=!1,N&&(N=!1,b(w),w=-1),u=!0;var O=l;try{t:{for(y(I),T=n(E);T!==null&&!(T.expirationTime>I&&De());){var h=T.callback;if(typeof h=="function"){T.callback=null,l=T.priorityLevel;var D=h(T.expirationTime<=I);if(I=e.unstable_now(),typeof D=="function"){T.callback=D,y(I),d=!0;break t}T===n(E)&&r(E),y(I)}else r(E);T=n(E)}if(T!==null)d=!0;else{var J=n(_);J!==null&&ae(F,J.startTime-I),d=!1}}break e}finally{T=null,l=O,u=!1}d=void 0}}finally{d?B():P=!1}}}var B;if(typeof M=="function")B=function(){M(se)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,En=Le.port2;Le.port1.onmessage=se,B=function(){En.postMessage(null)}}else B=function(){R(se,0)};function ae(I,d){w=R(function(){I(e.unstable_now())},d)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return l},e.unstable_next=function(I){switch(l){case 1:case 2:case 3:var d=3;break;default:d=l}var O=l;l=d;try{return I()}finally{l=O}},e.unstable_requestPaint=function(){f=!0},e.unstable_runWithPriority=function(I,d){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var O=l;l=I;try{return d()}finally{l=O}},e.unstable_scheduleCallback=function(I,d,O){var h=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?h+O:h):O=h,I){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=O+D,I={id:c++,callback:d,priorityLevel:I,startTime:O,expirationTime:D,sortIndex:-1},O>h?(I.sortIndex=O,t(_,I),n(E)===null&&I===n(_)&&(N?(b(w),w=-1):N=!0,ae(F,O-h))):(I.sortIndex=D,t(E,I),A||u||(A=!0,P||(P=!0,B()))),I},e.unstable_shouldYield=De,e.unstable_wrapCallback=function(I){var d=l;return function(){var O=l;l=d;try{return I.apply(this,arguments)}finally{l=O}}}})(le)),le}var Ce;function Qn(){return Ce||(Ce=1,_e.exports=_n()),_e.exports}let ln={data:""},un=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||ln},cn=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,In=/\/\*[^]*?\*\/|  +/g,ye=/\n+/g,v=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?v(s,o):o+"{"+v(s,o[1]=="k"?"":t)+"}":typeof s=="object"?r+=v(s,t?t.replace(/([^,])+/g,a=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,E=>/&/.test(E)?E.replace(/&/g,a):a?a+" "+E:E)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=v.p?v.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},g={},Bt=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Bt(e[n]);return t}return e},fn=(e,t,n,r,i)=>{let o=Bt(e),s=g[o]||(g[o]=(E=>{let _=0,c=11;for(;_<E.length;)c=101*c+E.charCodeAt(_++)>>>0;return"go"+c})(o));if(!g[s]){let E=o!==e?e:(_=>{let c,T,l=[{}];for(;c=cn.exec(_.replace(In,""));)c[4]?l.shift():c[3]?(T=c[3].replace(ye," ").trim(),l.unshift(l[0][T]=l[0][T]||{})):l[0][c[1]]=c[2].replace(ye," ").trim();return l[0]})(e);g[s]=v(i?{["@keyframes "+s]:E}:E,n?"":"."+s)}let a=n&&g.g?g.g:null;return n&&(g.g=g[s]),((E,_,c,T)=>{T?_.data=_.data.replace(T,E):_.data.indexOf(E)===-1&&(_.data=c?E+_.data:_.data+E)})(g[s],t,r,a),s},Tn=(e,t,n)=>e.reduce((r,i,o)=>{let s=t[o];if(s&&s.call){let a=s(n),E=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=E?"."+E:a&&typeof a=="object"?a.props?"":v(a,""):a===!1?"":a}return r+i+(s??"")},"");function Se(e){let t=this||{},n=e.call?e(t.p):e;return fn(n.unshift?n.raw?Tn(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,un(t.target),t.g,t.o,t.k)}let Yt,Ie,fe;Se.bind({g:1});let zn=Se.bind({k:1});function er(e,t,n,r){v.p=t,Yt=e,Ie=n,fe=r}function tr(e,t){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),E=a.className||i.className;n.p=Object.assign({theme:Ie&&Ie()},a),n.o=/ *go\d+/.test(E),a.className=Se.apply(n,r)+(E?" "+E:"");let _=e;return e[0]&&(_=a.as||e,delete a.as),fe&&_[0]&&fe(a),Yt(_,a)}return i}}var An={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pe;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(pe||(pe={}));var Pe;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Pe||(Pe={}));var ge;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(ge||(ge={}));var be;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(be||(be={}));var Me;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Me||(Me={}));var we;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(we||(we={}));var ve;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(ve||(ve={}));var me;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(me||(me={}));var Ge;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ge||(Ge={}));var He;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(He||(He={}));var Fe;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Fe||(Fe={}));var Be;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Be||(Be={}));var Ye;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Ye||(Ye={}));var Ve;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Ve||(Ve={}));var je;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(je||(je={}));var xe;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(xe||(xe={}));var Ke;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ke||(Ke={}));var ke;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(ke||(ke={}));var Je;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Je||(Je={}));var Xe;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Xe||(Xe={}));var We;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(We||(We={}));var $e;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($e||($e={}));var qe;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(qe||(qe={}));var Ze;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ze||(Ze={}));var Qe;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Qe||(Qe={}));var ze;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ze||(ze={}));var et;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(et||(et={}));var tt;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(tt||(tt={}));var nt;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(nt||(nt={}));var rt;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(rt||(rt={}));var it;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(it||(it={}));var ot;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(ot||(ot={}));var st;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(st||(st={}));var at;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(at||(at={}));var Et;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Et||(Et={}));var _t;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_t||(_t={}));var lt;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(lt||(lt={}));var ut;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ut||(ut={}));var ct;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(ct||(ct={}));var It;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(It||(It={}));var ft;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(ft||(ft={}));var Tt;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Tt||(Tt={}));var At;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(At||(At={}));var Ot;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Ot||(Ot={}));var dt;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(dt||(dt={}));var Nt;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Nt||(Nt={}));var St;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(St||(St={}));var Rt;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Rt||(Rt={}));var ht;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ht||(ht={}));var Dt;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Dt||(Dt={}));var Lt;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Lt||(Lt={}));var Ut;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Ut||(Ut={}));var Ct;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ct||(Ct={}));var yt;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(yt||(yt={}));var pt;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(pt||(pt={}));var Pt;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Pt||(Pt={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gt;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(gt||(gt={}));function ee(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function bt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function k(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(u){return function(A){return Promise.resolve(A).then(u,T)}}function a(u,A){r[u]&&(i[u]=function(N){return new Promise(function(f,R){o.push([u,N,f,R])>1||E(u,N)})},A&&(i[u]=A(i[u])))}function E(u,A){try{_(r[u](A))}catch(N){l(o[0][3],N)}}function _(u){u.value instanceof S?Promise.resolve(u.value.v).then(c,T):l(o[0][2],u)}function c(u){E("next",u)}function T(u){E("throw",u)}function l(u,A){u(A),o.shift(),o.length&&E(o[0][0],o[0][1])}}function j(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof bt=="function"?bt(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,E){s=e[o](s),i(a,E,s.done,s.value)})}}function i(o,s,a,E){Promise.resolve(E).then(function(_){o({value:_,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Vt=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Vt=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const On=()=>Vt();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Te(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Ae=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p extends Error{}class C extends p{constructor(t,n,r,i){super(`${C.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new ne({message:r,cause:Ae(n)});const o=n;return t===400?new xt(t,o,r,i):t===401?new Kt(t,o,r,i):t===403?new kt(t,o,r,i):t===404?new Jt(t,o,r,i):t===409?new Xt(t,o,r,i):t===422?new Wt(t,o,r,i):t===429?new $t(t,o,r,i):t>=500?new qt(t,o,r,i):new C(t,o,r,i)}}class Oe extends C{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ne extends C{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class jt extends ne{constructor({message:t}={}){super({message:t??"Request timed out."})}}class xt extends C{}class Kt extends C{}class kt extends C{}class Jt extends C{}class Xt extends C{}class Wt extends C{}class $t extends C{}class qt extends C{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dn=/^[a-z][a-z0-9+.-]*:/i,Nn=e=>dn.test(e);let de=e=>(de=Array.isArray,de(e));const Sn=de;let Rn=Sn;const Mt=Rn;function hn(e){if(!e)return!0;for(const t in e)return!1;return!0}function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Ln=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new p(`${e} must be an integer`);if(t<0)throw new p(`${e} must be a positive integer`);return t},Un=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cn=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yn(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const pn=()=>{var e,t,n,r,i;const o=yn();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Y,"X-Stainless-OS":vt(Deno.build.os),"X-Stainless-Arch":wt(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Y,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Y,"X-Stainless-OS":vt((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":wt((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=Pn();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Y,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Y,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Pn(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:t,version:`${i}.${o}.${s}`}}}return null}const wt=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",vt=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let $;const gn=()=>$??($=pn());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bn(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Zt(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Mn(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Zt({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function Qt(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function wn(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vn=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zt=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ue(e,t,n){return zt(),new File(e,t??"unknown_file",n)}function mn(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Gn=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const en=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Hn=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&en(e),Fn=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Bn(e,t,n){if(zt(),e=await e,Hn(e))return e instanceof File?e:ue([await e.arrayBuffer()],e.name);if(Fn(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),ue(await Ne(i),t,n)}const r=await Ne(e);if(t||(t=mn(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return ue(r,t,n)}async function Ne(e){var t,n,r,i,o;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(en(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(Gn(e))try{for(var a=!0,E=j(e),_;_=await E.next(),t=_.done,!t;a=!0){i=_.value,a=!1;const c=i;s.push(...await Ne(c))}}catch(c){n={error:c}}finally{try{!a&&!t&&(r=E.return)&&await r.call(E)}finally{if(n)throw n.error}}else{const c=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${c?`; constructor: ${c}`:""}${Yn(e)}`)}return s}function Yn(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tn{constructor(t){this._client=t}}tn._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nn(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const mt=Object.freeze(Object.create(null)),Vn=(e=nn)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,T,l)=>{var u,A,N;/[?#]/.test(T)&&(i=!0);const f=r[l];let R=(i?encodeURIComponent:e)(""+f);return l!==r.length&&(f==null||typeof f=="object"&&f.toString===((N=Object.getPrototypeOf((A=Object.getPrototypeOf((u=f.hasOwnProperty)!==null&&u!==void 0?u:mt))!==null&&A!==void 0?A:mt))===null||N===void 0?void 0:N.toString))&&(R=f+"",o.push({start:c.length+T.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),c+T+(l===r.length?"":R)},""),a=s.split(/[?#]/,1)[0],E=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let _;for(;(_=E.exec(a))!==null;)o.push({start:_.index,length:_[0].length,error:`Value "${_[0]}" can't be safely passed as a path parameter`});if(o.sort((c,T)=>c.start-T.start),o.length>0){let c=0;const T=o.reduce((l,u)=>{const A=" ".repeat(u.start-c),N="^".repeat(u.length);return c=u.start+u.length,l+A+N},"");throw new p(`Path parameters result in path with invalid segments:
${o.map(l=>l.error).join(`
`)}
${s}
${T}`)}return s}),q=Vn(nn);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rn extends tn{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=ee(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new p("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new p("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(q`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(q`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(q`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=ee(o,["api_version"]);return this._client.get(q`/${s}/interactions/${t}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}rn._key=Object.freeze(["interactions"]);class on extends rn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jn(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Z;function Re(e){let t;return(Z??(t=new globalThis.TextEncoder,Z=t.encode.bind(t)))(e)}let Q;function Gt(e){let t;return(Q??(t=new globalThis.TextDecoder,Q=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class re{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Re(t):t;this.buffer=jn([this.buffer,n]);const r=[];let i;for(;(i=xn(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Gt(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=Gt(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}re.NEWLINE_CHARS=new Set([`
`,"\r"]);re.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xn(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Kn(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const te={off:0,error:200,warn:300,info:400,debug:500},Ht=(e,t,n)=>{if(e){if(Dn(te,e))return e;U(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(te))}`)}};function K(){}function z(e,t,n){return!t||te[e]>te[n]?K:t[e].bind(t)}const kn={error:K,warn:K,info:K,debug:K};let Ft=new WeakMap;function U(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return kn;const i=Ft.get(n);if(i&&i[0]===r)return i[1];const o={error:z("error",n,r),warn:z("warn",n,r),info:z("info",n,r),debug:z("debug",n,r)};return Ft.set(n,[r,o]),o}const H=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?U(r):console;function s(){return k(this,arguments,function*(){var E,_,c,T;if(i)throw new p("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let l=!1;try{try{for(var u=!0,A=j(Jn(t,n)),N;N=yield S(A.next()),E=N.done,!E;u=!0){T=N.value,u=!1;const f=T;if(!l)if(f.data.startsWith("[DONE]")){l=!0;continue}else try{yield yield S(JSON.parse(f.data))}catch(R){throw o.error("Could not parse message into JSON:",f.data),o.error("From chunk:",f.raw),R}}}catch(f){_={error:f}}finally{try{!u&&!E&&(c=A.return)&&(yield S(c.call(A)))}finally{if(_)throw _.error}}l=!0}catch(f){if(Te(f))return yield S(void 0);throw f}finally{l||n.abort()}})}return new V(s,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return k(this,arguments,function*(){var E,_,c,T;const l=new re,u=Qt(t);try{for(var A=!0,N=j(u),f;f=yield S(N.next()),E=f.done,!E;A=!0){T=f.value,A=!1;const R=T;for(const b of l.decode(R))yield yield S(b)}}catch(R){_={error:R}}finally{try{!A&&!E&&(c=N.return)&&(yield S(c.call(N)))}finally{if(_)throw _.error}}for(const R of l.flush())yield yield S(R)})}function s(){return k(this,arguments,function*(){var E,_,c,T;if(i)throw new p("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let l=!1;try{try{for(var u=!0,A=j(o()),N;N=yield S(A.next()),E=N.done,!E;u=!0){T=N.value,u=!1;const f=T;l||f&&(yield yield S(JSON.parse(f)))}}catch(f){_={error:f}}finally{try{!u&&!E&&(c=A.return)&&(yield S(c.call(A)))}finally{if(_)throw _.error}}l=!0}catch(f){if(Te(f))return yield S(void 0);throw f}finally{l||n.abort()}})}return new V(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();t.push(s),n.push(s)}return o.shift()}});return[new V(()=>i(t),this.controller,this.client),new V(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Zt({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=Re(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Jn(e,t){return k(this,arguments,function*(){var r,i,o,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new p("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new p("Attempted to iterate over a response with no body");const a=new Wn,E=new re,_=Qt(e.body);try{for(var c=!0,T=j(Xn(_)),l;l=yield S(T.next()),r=l.done,!r;c=!0){s=l.value,c=!1;const u=s;for(const A of E.decode(u)){const N=a.decode(A);N&&(yield yield S(N))}}}catch(u){i={error:u}}finally{try{!c&&!r&&(o=T.return)&&(yield S(o.call(T)))}finally{if(i)throw i.error}}for(const u of E.flush()){const A=a.decode(u);A&&(yield yield S(A))}})}function Xn(e){return k(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,E=j(e),_;_=yield S(E.next()),n=_.done,!n;a=!0){o=_.value,a=!1;const c=o;if(c==null)continue;const T=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?Re(c):c;let l=new Uint8Array(s.length+T.length);l.set(s),l.set(T,s.length),s=l;let u;for(;(u=Kn(s))!==-1;)yield yield S(s.slice(0,u)),s=s.slice(u)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=E.return)&&(yield S(i.call(E)))}finally{if(r)throw r.error}}s.length>0&&(yield yield S(s))})}class Wn{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=$n(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function $n(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qn(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,s=await(async()=>{var a;if(t.options.stream)return U(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):V.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const E=n.headers.get("content-type"),_=(a=E==null?void 0:E.split(";")[0])===null||a===void 0?void 0:a.trim();return(_==null?void 0:_.includes("application/json"))||(_==null?void 0:_.endsWith("+json"))?await n.json():await n.text()})();return U(e).debug(`[${r}] response parsed`,H({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class he extends Promise{constructor(t,n,r=qn){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new he(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sn=Symbol("brand.privateNullableHeaders");function*Zn(e){if(!e)return;if(sn in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Mt(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Mt(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(t&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const x=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,s]of Zn(r)){const a=o.toLowerCase();i.has(a)||(t.delete(o),i.add(a)),s===null?(t.delete(o),n.add(a)):(t.append(o,s),n.delete(a))}}return{[sn]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ce=e=>{var t,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(t=An)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var an;class ie{constructor(t){var n,r,i,o,s,a,E,{baseURL:_=ce("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=ce("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:T="v1beta"}=t,l=ee(t,["baseURL","apiKey","apiVersion"]);const u=Object.assign(Object.assign({apiKey:c,apiVersion:T},l),{baseURL:_||"https://generativelanguage.googleapis.com"});this.baseURL=u.baseURL,this.timeout=(r=u.timeout)!==null&&r!==void 0?r:ie.DEFAULT_TIMEOUT,this.logger=(i=u.logger)!==null&&i!==void 0?i:console;const A="warn";this.logLevel=A,this.logLevel=(s=(o=Ht(u.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:Ht(ce("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:A,this.fetchOptions=u.fetchOptions,this.maxRetries=(a=u.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(E=u.fetch)!==null&&E!==void 0?E:bn(),this.encoder=vn,this._options=u,this.apiKey=c,this.apiVersion=T,this.clientAdapter=u.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=x([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return x([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return x([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new p(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Y}`}defaultIdempotencyKey(){return`stainless-node-retry-${On()}`}makeStatusError(t,n,r,i){return C.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Nn(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return hn(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new he(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,s;const a=await t,E=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=E),await this.prepareOptions(a);const{req:_,url:c,timeout:T}=await this.buildRequest(a,{retryCount:E-n});await this.prepareRequest(_,{url:c,options:a});const l="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=r===void 0?"":`, retryOf: ${r}`,A=Date.now();if(U(this).debug(`[${l}] sending request`,H({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:_.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new Oe;const N=new AbortController,f=await this.fetchWithTimeout(c,_,T,N).catch(Ae),R=Date.now();if(f instanceof globalThis.Error){const M=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new Oe;const y=Te(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(n)return U(this).info(`[${l}] connection ${y?"timed out":"failed"} - ${M}`),U(this).debug(`[${l}] connection ${y?"timed out":"failed"} (${M})`,H({retryOfRequestLogID:r,url:c,durationMs:R-A,message:f.message})),this.retryRequest(a,n,r??l);throw U(this).info(`[${l}] connection ${y?"timed out":"failed"} - error; no more retries left`),U(this).debug(`[${l}] connection ${y?"timed out":"failed"} (error; no more retries left)`,H({retryOfRequestLogID:r,url:c,durationMs:R-A,message:f.message})),y?new jt:new ne({cause:f})}const b=`[${l}${u}] ${_.method} ${c} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${R-A}ms`;if(!f.ok){const M=await this.shouldRetry(f);if(n&&M){const m=`retrying, ${n} attempts remaining`;return await wn(f.body),U(this).info(`${b} - ${m}`),U(this).debug(`[${l}] response error (${m})`,H({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,durationMs:R-A})),this.retryRequest(a,n,r??l,f.headers)}const y=M?"error; no more retries left":"error; not retryable";U(this).info(`${b} - ${y}`);const F=await f.text().catch(m=>Ae(m).message),P=Un(F),w=P?void 0:F;throw U(this).debug(`[${l}] response error (${y})`,H({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,message:w,durationMs:Date.now()-A})),this.makeStatusError(f.status,P,w,f.headers)}return U(this).info(b),U(this).debug(`[${l}] response start`,H({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,durationMs:R-A})),{response:f,options:a,controller:N,requestLogID:l,retryOfRequestLogID:r,startTime:A}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:s,method:a}=o,E=ee(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const _=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&E.body instanceof globalThis.ReadableStream||typeof E.body=="object"&&E.body!==null&&Symbol.asyncIterator in E.body,T=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),E);a&&(T.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(_)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const _=parseFloat(a);Number.isNaN(_)||(s=_)}const E=i==null?void 0:i.get("retry-after");if(E&&!s){const _=parseFloat(E);Number.isNaN(_)?s=Date.parse(E)-Date.now():s=_*1e3}if(!(s&&0<=s&&s<60*1e3)){const _=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,_)}return await Cn(s),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},t),{method:a,path:E,query:_,defaultBaseURL:c}=s,T=this.buildURL(E,_,c);"timeout"in s&&Ln("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:l,body:u}=this.buildBody({options:s}),A=await this.buildHeaders({options:t,method:a,bodyHeaders:l,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:A},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"}),u&&{body:u}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:T,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let a=x([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),gn()),this._options.defaultHeaders,r,t.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=x([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Mn(t)}:this.encoder({body:t,headers:r})}}ie.DEFAULT_TIMEOUT=6e4;class L extends ie{constructor(){super(...arguments),this.interactions=new on(this)}}an=L;L.GeminiNextGenAPIClient=an;L.GeminiNextGenAPIClientError=p;L.APIError=C;L.APIConnectionError=ne;L.APIConnectionTimeoutError=jt;L.APIUserAbortError=Oe;L.NotFoundError=Jt;L.ConflictError=Xt;L.RateLimitError=$t;L.BadRequestError=xt;L.AuthenticationError=Kt;L.InternalServerError=qt;L.PermissionDeniedError=kt;L.UnprocessableEntityError=Wt;L.toFile=Bn;L.Interactions=on;export{be as T,zn as h,er as m,Qn as r,Se as u,tr as w};
