const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chat-DWKbrCFW.js","assets/vendor-DW66a48r.js","assets/react-vendor-DLdk58NU.js","assets/lucide-icons-BgbkIPPx.js","assets/FeedbackScreen-BKgrLrzn.js","assets/feedback-CSAG4b4V.js","assets/PremiseCheckScreen-CU6nRRMB.js","assets/TextbookScreen-DsY4XKdf.js","assets/MiniGameScreen-BQW3GgnW.js","assets/HistoryScreen-CKcwhHO6.js"])))=>i.map(i=>d[i]);
import{r as u,j as e,z as V,F as Ye,c as We,R as Ke}from"./react-vendor-DLdk58NU.js";import{T as Y,u as ye,D as d,a as D,b as S,g as Ce,c as Qe,d as Xe,e as Je,B as J,M as $,C as Ee,A as qe,f as ve,i as Ze,E as se,j as et,k as ge,p as le,l as tt,m as st}from"./chat-DWKbrCFW.js";import{ab as De,o as Me,m as Oe,ac as Re,ad as at,J as rt,ae as lt,n as te,af as be,ag as nt,R as ot,a0 as it,ah as dt,ai as ct,a1 as mt,aj as xt,ak as pt,M as ht,a5 as oe,al as ie,K as de,G as q,B as Z,s as Le,a6 as Ne,am as ce,a as W,h as ee,D as ut,S as fe,an as gt,Z as re,ao as bt,t as ft,ap as jt,c as je,a4 as yt,aq as Nt,V as vt,ar as Pe,as as ze,at as wt,X as _e,au as kt,av as Tt,aw as Fe,ax as Be,v as St,ay as At,az as It,aA as we,aB as ke,a3 as Te,L as Ct,Q as xe,aC as Et,e as ne,x as Dt,z as Mt,aD as Ot,Y as Ge,aE as Rt,aF as Lt,aG as Pt}from"./lucide-icons-BgbkIPPx.js";import"./vendor-DW66a48r.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const m of l)if(m.type==="childList")for(const o of m.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(l){const m={};return l.integrity&&(m.integrity=l.integrity),l.referrerPolicy&&(m.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?m.credentials="include":l.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function r(l){if(l.ep)return;l.ep=!0;const m=a(l);fetch(l.href,m)}})();const zt="modulepreload",_t=function(t){return"/"+t},Se={},K=function(s,a,r){let l=Promise.resolve();if(a&&a.length>0){let o=function(p){return Promise.all(p.map(i=>Promise.resolve(i).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),n=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));l=o(a.map(p=>{if(p=_t(p),p in Se)return;Se[p]=!0;const i=p.endsWith(".css"),h=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${h}`))return;const g=document.createElement("link");if(g.rel=i?"stylesheet":zt,i||(g.as="script"),g.crossOrigin="",g.href=p,n&&g.setAttribute("nonce",n),document.head.appendChild(g),i)return new Promise((x,j)=>{g.addEventListener("load",x),g.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function m(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return l.then(o=>{for(const c of o||[])c.status==="rejected"&&m(c.reason);return s().catch(m)})},Ft=["ÈÄ±‰ºë3Êó•Âà∂„ÇíÂ∞éÂÖ•„Åô„Åπ„Åç„Åã","„Éô„Éº„Ç∑„ÉÉ„ÇØ„Ç§„É≥„Ç´„É†„ÅÆÊòØÈùû","ÈÅ∏Êåô„ÅÆÊäïÁ•®„ÇíÁæ©ÂãôÂåñ„Åô„Åπ„Åç„Åã","ÂÆöÂπ¥Âà∂„ÇíÂªÉÊ≠¢„Åô„Åπ„Åç„Åã","Â§´Â©¶Âà•Âßì„ÇíË™ç„ÇÅ„Çã„Åπ„Åç„Åã","Â∞ëÂπ¥Ê≥ï„ÇíÂªÉÊ≠¢„Åó„ÄÅÊàê‰∫∫„Å®Âêå„ÅòÂàëÁΩ∞„ÇíÁßë„Åô„Åπ„Åç„Åã","Ê≠ªÂàëÂà∂Â∫¶„ÅØÂªÉÊ≠¢„Åô„Åπ„Åç„Åã","È¶ñÁõ∏ÂÖ¨ÈÅ∏Âà∂„ÇíÂ∞éÂÖ•„Åô„Åπ„Åç„Åã","Êó•Êú¨„ÅØÁßªÊ∞ëÂèó„ÅëÂÖ•„Çå„ÇíÂ§ßÂπÖ„Å´Êã°Â§ß„Åô„Åπ„Åç„Åã","ÂØåË£ïÂ±§„Å∏„ÅÆË™≤Á®é„ÇíÂ§ßÂπÖ„Å´Âº∑Âåñ„Åô„Åπ„Åç„Åã","ÊïëÊÄ•Ëªä„ÅÆÂà©Áî®„ÇíÊúâÊñôÂåñ„Åô„Åπ„Åç„Åã","„Éû„Ç§„Éä„É≥„Éê„Éº„Ç´„Éº„Éâ„ÅÆÊê∫Â∏Ø„ÇíÁæ©ÂãôÂåñ„Åô„Åπ„Åç„Åã","NHK„ÅÆÂèó‰ø°ÊñôÂà∂Â∫¶„ÇíÂªÉÊ≠¢„Åô„Åπ„Åç„Åã","Ê∂àË≤ªÁ®é„ÇíÂªÉÊ≠¢„Åô„Åπ„Åç„Åã","Ë£ÅÂà§Âì°Âà∂Â∫¶„ÅØÂªÉÊ≠¢„Åô„Åπ„Åç„Åã","È¶ñÈÉΩÊ©üËÉΩ„ÇíÊù±‰∫¨‰ª•Â§ñ„Å´ÁßªËª¢„Åô„Åπ„Åç„Åã","ÈÅìÂ∑ûÂà∂„ÇíÂ∞éÂÖ•„Åô„Åπ„Åç„Åã","ÁµêÂ©öÂà∂Â∫¶„ÅØÊôÇ‰ª£ÈÅÖ„Çå„Åã","Â≠¶Ê†°„Åß„ÅÆ„Çπ„Éû„ÉõÂà©Áî®Á¶ÅÊ≠¢","Â∞èÂ≠¶Ê†°„Åß„ÅÆËã±Ë™ûÊïôËÇ≤„ÅØÂøÖË¶Å„Åã","ÂÆøÈ°å„ÅØÂªÉÊ≠¢„Åô„Åπ„Åç„Åã","ÈÉ®Ê¥ªÂãï„ÅØÂ§ñÈÉ®ÂßîË®ó„Åô„Åπ„Åç„Åã","Á¥ô„ÅÆÊïôÁßëÊõ∏„ÇíÂÆåÂÖ®„Å´ÂªÉÊ≠¢„Åô„Åπ„Åç„Åã","Â§ßÂ≠¶„ÅÆÂ≠¶Ë≤ª„ÇíÂÆåÂÖ®ÁÑ°ÂÑüÂåñ„Åô„Åπ„Åç„Åã","È£õ„Å≥Á¥öÂà∂Â∫¶„ÇíÊó•Êú¨„ÅÆÂÖ¨ÊïôËÇ≤„Å´Â∞éÂÖ•„Åô„Åπ„Åç„Åã","Â≠¶Ê†°„ÅÆÊ†°ÂâáÔºàÈ´™Âûã„ÇÑÊúçË£ÖÔºâ„ÇíÂÖ®ÂªÉ„Åô„Åπ„Åç„Åã","Âà∂Êúç„ÇíÂªÉÊ≠¢„ÅóÁßÅÊúçÁôªÊ†°„Å´„Åô„Åπ„Åç„Åã","Áæ©ÂãôÊïôËÇ≤„Åß„ÅÆ„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞ÊïôËÇ≤„Çí„ÇÇ„Å£„Å®Âº∑Âåñ„Åô„Åπ„Åç„Åã","9ÊúàÂÖ•Â≠¶Âà∂„Å´ÁßªË°å„Åô„Åπ„Åç„Åã","ÊñáÁ≥ª„ÉªÁêÜÁ≥ª„ÅÆÂå∫ÂàÜ„ÇíÂªÉÊ≠¢„Åô„Åπ„Åç„Åã","AI„ÅØ‰∫∫Èñì„ÅÆ‰ªï‰∫ã„ÇíÂ•™„ÅÜ„Åã","„Ç≠„É£„ÉÉ„Ç∑„É•„É¨„ÇπÂåñ„ÇíÂº∑Âà∂„Åô„Åπ„Åç„Åã","„Ç§„É≥„Çø„Éº„Éç„ÉÉ„Éà„ÅØÂÆüÂêçÂà∂„Å´„Åô„Åπ„Åç„Åã","ÈÅ∫‰ºùÂ≠êÁ∑®ÈõÜ„ÅßËÉΩÂäõ„ÇíÂº∑Âåñ„Åó„Åü‰∫∫Èñì„ÇíÁîü„ÅøÂá∫„Åô„Åπ„Åç„Åã","Ëá™ÂãïÈÅãËª¢Ëªä„Åå‰∫ãÊïÖ„ÇíËµ∑„Åì„Åó„ÅüÂ†¥Âêà„ÄÅ„É°„Éº„Ç´„Éº„ÅåÂÖ®Ë≤¨‰ªª„ÇíË≤†„ÅÜ„Åπ„Åç„Åã","ÂÆáÂÆôÈñãÁô∫„Çà„ÇäÂú∞ÁêÉÁí∞Â¢É„Å´„ÅäÈáë„Çí‰Ωø„ÅÜ„Åπ„Åç„Åã","SNS„ÅÆÂà©Áî®„Å´Âπ¥ÈΩ¢Âà∂ÈôêÔºà16Ê≠≥‰ª•‰∏ä„Å™„Å©Ôºâ„ÇíË®≠„Åë„Çã„Åπ„Åç„Åã","„Éï„Çß„Ç§„ÇØ„Éã„É•„Éº„Çπ„ÅÆÁô∫‰ø°„ÇíÊ≥ïÁöÑ„Å´Âá¶ÁΩ∞„Åô„Åπ„Åç„Åã","ÁîüÊàêAI„Å´„Çà„ÇãÂâµ‰ΩúÁâ©„ÅØËëó‰ΩúÊ®©„Åß‰øùË≠∑„Åï„Çå„Çã„Åπ„Åç„Åã","„É°„Çø„Éê„Éº„Çπ‰∏ä„ÅÆÁäØÁΩ™„ÇíÁèæÂÆü„ÅÆÊ≥ïÂæã„ÅßË£Å„Åè„Åπ„Åç„Åã","‰∫∫Èñì„ÅØ‰∏çËÄÅ‰∏çÊ≠ª„ÇíÁõÆÊåá„Åô„Åπ„Åç„Åã","„Éâ„É≠„Éº„É≥ÈÖçÈÄÅ„ÇíÂÖ®Èù¢ÁöÑ„Å´Ëß£Á¶Å„Åô„Åπ„Åç„Åã","ÊöóÂè∑Ë≥áÁî£Ôºà‰ªÆÊÉ≥ÈÄöË≤®Ôºâ„Çí‰∏ªË¶ÅÈÄöË≤®„Å®„Åó„Å¶Ë™ç„ÇÅ„Çã„Åπ„Åç„Åã","ÂãïÁâ©Âúí„ÅØÂªÉÊ≠¢„Åô„Åπ„Åç„Åã","„Çø„Éê„Ç≥„ÅÆË≤©Â£≤„ÇíÂÆåÂÖ®„Å´Á¶ÅÊ≠¢„Åô„Åπ„Åç„Åã","ÂÆâÊ•ΩÊ≠ª„ÇíÂêàÊ≥ïÂåñ„Åô„Åπ„Åç„Åã","„Éö„ÉÉ„Éà„ÅÆË≤©Â£≤„ÇíÁ¶ÅÊ≠¢„Åó„ÄÅ‰øùË≠∑„ÅÆ„Åø„Å´„Åô„Åπ„Åç„Åã","ÁæéÂÆπÊï¥ÂΩ¢„ÇíÊú™ÊàêÂπ¥„Å´Á¶ÅÊ≠¢„Åô„Åπ„Åç„Åã","Áî∑ÊÄßÂ∞ÇÁî®Ëªä‰∏°„ÇÇÂ∞éÂÖ•„Åô„Åπ„Åç„Åã","„Ç≥„É≥„Éì„Éã„ÅÆ24ÊôÇÈñìÂñ∂Ê•≠„ÅØÁ¶ÅÊ≠¢„Åô„Åπ„Åç„Åã","„Éó„É©„Çπ„ÉÅ„ÉÉ„ÇØË£ΩÂìÅ„ÅÆË£ΩÈÄ†„ÇíÂÖ®Èù¢Á¶ÅÊ≠¢„Åô„Åπ„Åç„Åã","ËÇâÈ£ü„ÇíÁ¶ÅÊ≠¢„Åó„ÄÅ‰ª£ÊõøËÇâ„ÅÆ„Åø„Å´„Åô„Åπ„Åç„Åã","ÂéüÂ≠êÂäõÁô∫Èõª„ÅØÂç≥ÊôÇÊí§ÂªÉ„Åô„Åπ„Åç„Åã","„ÇÆ„É£„É≥„Éñ„É´„ÇíÂÆåÂÖ®„Å´ÈÅïÊ≥ïÂåñ„Åô„Åπ„Åç„Åã","ËÅ∑Â†¥„Åß„ÅÆÈ£≤„Åø‰ºöÔºàÊé•ÂæÖÂê´„ÇÄÔºâ„ÇíÁ¶ÅÊ≠¢„Åô„Åπ„Åç„Åã","„É¨„Ç∏Ë¢ãÊúâÊñôÂåñ„ÅØÂäπÊûú„Åå„ÅÇ„Å£„Åü„Åã","‰ª£ÁêÜÊØçÂá∫Áî£„ÇíË™ç„ÇÅ„Çã„Åπ„Åç„Åã","Âá∫ÁîüÂâçË®∫Êñ≠„ÇíÁÑ°Êù°‰ª∂„ÅßË™ç„ÇÅ„Çã„Åπ„Åç„Åã","„É™„É¢„Éº„Éà„ÉØ„Éº„ÇØ„ÅØÂéüÂâáÂªÉÊ≠¢„Åô„Åπ„Åç„Åã","È£≤È£üÂ∫ó„Åß„ÅÆ„ÉÅ„ÉÉ„ÉóÂà∂Â∫¶„ÇíÂ∞éÂÖ•„Åô„Åπ„Åç„Åã","ÊúÄ‰ΩéË≥ÉÈáë„ÇíÂÖ®ÂõΩ‰∏ÄÂæã„Å´„Åô„Åπ„Åç„Åã","ÂâØÊ•≠„ÇíÊ≥ïÂæã„ÅßÂÖ®Èù¢ÁöÑ„Å´Ê®©Âà©„Å®„Åó„Å¶Ë™ç„ÇÅ„Çã„Åπ„Åç„Åã","Êñ∞Âçí‰∏ÄÊã¨Êé°Áî®„ÇíÂªÉÊ≠¢„Åô„Åπ„Åç„Åã","Âπ¥ÂäüÂ∫èÂàóË≥ÉÈáë„ÇíÊ≥ïÂæã„ÅßÁ¶ÅÊ≠¢„Åô„Åπ„Åç„Åã","‰ºÅÊ•≠„ÅÆÂÜÖÈÉ®Áïô‰øù„Å´Ë™≤Á®é„Åô„Åπ„Åç„Åã","ÂÆöÈ°çÂÉç„Åã„ÅõÊîæÈ°åÔºàË£ÅÈáèÂä¥ÂÉçÂà∂Ôºâ„ÇíÊã°Â§ß„Åô„Åπ„Åç„Åã"],Bt=[{name:"„Çπ„Éà„É≠„Éº„Éû„É≥",eng:"Strawman",desc:"Áõ∏Êâã„ÅÆ‰∏ªÂºµ„ÇíÊ≠™„ÇÅ„Å¶ÊîªÊíÉ„Åô„Çã"},{name:"Ë´ñÁÇπ„Åö„Çâ„Åó",eng:"Red Herring",desc:"ÁÑ°Èñ¢‰øÇ„Å™Ë©±È°å„ÅßÁÖô„Å´Â∑ª„Åè"},{name:"Êó©ÊÄ•„Å™‰∏ÄËà¨Âåñ",eng:"Hasty Generalization",desc:"Â∞ë„Å™„ÅÑ‰∫ã‰æã„ÅßÂÖ®‰Ωì„ÇíÊñ≠ÂÆö"},{name:"Ë™§„Å£„Åü‰∫åÂàÜÊ≥ï",eng:"False Dilemma",desc:"Ê•µÁ´Ø„Å™2Êäû„ÇíËø´„Çã"},{name:"‰∫∫Ë∫´ÊîªÊíÉ",eng:"Ad Hominem",desc:"‰∫∫Ê†º„ÇÑÂÆπÂßø„ÇíÊîªÊíÉ„Åô„Çã"},{name:"„ÅäÂâç„Å†„Å£„Å¶Ë´ñÊ≥ï",eng:"Tu Quoque",desc:"Áõ∏Êâã„ÅÆË°åÂãï„ÇíÊåáÊëò„Åó„Å¶Ê≠£ÂΩìÂåñ"},{name:"Âæ™Áí∞Ë´ñÊ≥ï",eng:"Circular Reasoning",desc:"ÁµêË´ñ„ÇíÂâçÊèê„Å´„Åó„Å¶Âõû„Çã"},{name:"„Éà„Éº„É≥„Éª„Éù„É™„Ç∑„É≥„Ç∞",eng:"Tone Policing",desc:"Ë®Ä„ÅÑÊñπ„ÇÑÊÑüÊÉÖ„ÇíÈùûÈõ£„Åô„Çã"},{name:"Ê®©Â®Å„Å∏„ÅÆË®¥„Åà",eng:"Appeal to Authority",desc:"Áñë„Çè„Åó„ÅÑÊ®©Â®Å„ÇíÂà©Áî®„Åô„Çã"},{name:"ÊõñÊòßË™ûÊ≥ï",eng:"Equivocation",desc:"Ë®ÄËëâ„ÅÆÊÑèÂë≥„Çí„Åô„ÇäÊõø„Åà„Çã"},{name:"Ë™òÂ∞éÂ∞ãÂïè",eng:"Loaded Question",desc:"‰∏çÂà©„Å™ÂâçÊèê„ÇíÂê´„ÇÄË≥™Âïè"},{name:"ÊÑüÊÉÖ„Å´Ë®¥„Åà„ÇãË´ñË®º",eng:"Appeal to Emotion",desc:"ÂêåÊÉÖ„ÇÑÊÅêÊÄñ„ÇíÁÖΩ„Çã"},{name:"„Ç¢„É≥„ÉÅ„ÉªÁ¥îÁ≤ãÊÄß",eng:"No True Scotsman",desc:"ÂÆöÁæ©„ÇíÂãùÊâã„Å´Â§â„Åà„Çã"},{name:"„ÉÜ„Ç≠„Çµ„Çπ„ÅÆÁãôÊíÉÂÖµ",eng:"Texas Sharpshooter",desc:"ÈÉΩÂêà„ÅÆËâØ„ÅÑ„Éá„Éº„Çø„Å†„ÅëÊäΩÂá∫"},{name:"Áä∂Ê≥ÅÂØæ‰∫∫Ë´ñË®º",eng:"Ad Hominem Circumstantial",desc:"Á´ãÂ†¥„ÇÑÂà©Áõä„ÇíÊîªÊíÉ„Åô„Çã"},{name:"„Ç¥„Éº„É´„Éù„Çπ„Éà„ÇíÂãï„Åã„Åô",eng:"Moving the Goalposts",desc:"Âü∫Ê∫ñ„ÇíÂæå„Åã„ÇâÂ§â„Åà„Çã"}],Gt=[{name:"Ê†πÊã†„ÅÆÁüõÁõæ„ÇíÁ™Å„Åè",icon:lt,desc:"Ë´ñÁêÜÁöÑÊï¥ÂêàÊÄß„ÅÆÊ¨†Â¶Ç„ÇÑÁô∫Ë®Ä„ÅÆÈ£ü„ÅÑÈÅï„ÅÑ„ÇíÊåáÊëò„Åô„Çã"},{name:"„Ç´„Ç¶„É≥„Çø„Éº„Ç®„Éì„Éá„É≥„Çπ",icon:te,desc:"Âà•„ÅÆË®ºÊã†„ÇÑ‰∫ãÂÆü„ÇíÊèêÁ§∫„Åó„Å¶Ë´ñÁ†¥„Åô„Çã"},{name:"Ë®ºÊã†„ÅÆ‰∏çÂÇôÊåáÊëò",icon:be,desc:"„Éá„Éº„Çø„ÅÆÂá∫ÂÖ∏„ÉªÂè§„Åï„ÉªÂÅè„Çä„ÇíÊîªÊíÉ„Åô„Çã (Source Integrity)"},{name:"ÈáçË¶ÅÊÄß„ÅÆËªΩË¶ñ",icon:nt,desc:"„ÄåÂΩ±Èüø„ÅØÈôêÂÆöÁöÑ„Åß„ÅÇ„Çã„Äç„Å®ÁüÆÂ∞èÂåñ„Åô„Çã (Impact Minimization)"},{name:"ÁèæÁä∂ÊîπËâØ",icon:ot,desc:"Êñ∞Âà∂Â∫¶„ÇíÂ∞éÂÖ•„Åõ„Åö„Å®„ÇÇÁèæË°å„ÅÆÊîπÂñÑ„ÅßËß£Ê±∫„Åß„Åç„Çã„Å®‰∏ªÂºµ„Åô„Çã (SQI)"}],Vt=[{id:Y.MECE,name:"MECE",icon:De,desc:"„É¢„É¨„Å™„Åè„ÉÄ„Éñ„Çä„Å™„ÅèÂàÜËß£„Åô„Çã„ÄÇË´ñÁêÜÊÄùËÄÉ„ÅÆÂü∫Á§é„ÄÇ"},{id:Y.FIVE_WHYS,name:"5 Whys („Å™„Åú„Å™„ÅúÂàÜÊûê)",icon:Me,desc:"„Äå„Å™„Åú„Äç„Çí5ÂõûÁπ∞„ÇäËøî„Åó„ÄÅÊ†πÊú¨ÂéüÂõ†„ÇíÁâπÂÆö„Åô„Çã„ÄÇ"},{id:Y.SWOT,name:"SWOTÂàÜÊûê",icon:Oe,desc:"Âº∑„Åø„ÉªÂº±„Åø„ÉªÊ©ü‰ºö„ÉªËÑÖÂ®Å„ÅßÁèæÁä∂„ÇíÂàÜÊûê„Åô„Çã„ÄÇ"},{id:Y.PEST,name:"PESTÂàÜÊûê",icon:Re,desc:"ÊîøÊ≤ª„ÉªÁµåÊ∏à„ÉªÁ§æ‰ºö„ÉªÊäÄË°ì„ÅÆ„Éû„ÇØ„É≠Áí∞Â¢É„ÇíÂàÜÊûê„Åô„Çã„ÄÇ"},{id:Y.LOGIC_TREE,name:"„É≠„Ç∏„ÉÉ„ÇØ„ÉÑ„É™„Éº",icon:at,desc:"ÂïèÈ°å„Çí„ÉÑ„É™„ÉºÁä∂„Å´ÂàÜËß£„Åó„ÄÅËß£Ê±∫Á≠ñ„ÇíÂ∞é„ÅçÂá∫„Åô„ÄÇ"},{id:Y.META_COGNITION,name:"„É°„ÇøË™çÁü•„Éª„Éê„Ç§„Ç¢„Çπ",icon:rt,desc:"Ëá™ÂàÜ„ÅÆÊÄùËÄÉ„ÅÆÂÅè„ÇäÔºà„Éê„Ç§„Ç¢„ÇπÔºâ„ÇíÂÆ¢Ë¶≥Ë¶ñ„Åô„Çã„ÄÇ"}],Ae=["üí° „Éí„É≥„Éà: Áõ∏Êâã„ÅÆÊÑèË¶ã„Çí‰∏ÄÂ∫¶Âèó„ÅëÊ≠¢„ÇÅ„Å¶„Åã„ÇâÂèçË´ñ„Åô„Çã„Å®„ÄÅË™¨ÂæóÂäõ„ÅåÂ¢ó„Åó„Åæ„ÅôÔºàYes-ButÊ≥ïÔºâ„ÄÇ","üí° „Éí„É≥„Éà: „Äå‰∫ãÂÆüÔºàFactÔºâ„Äç„Å®„ÄåÊÑèË¶ãÔºàOpinionÔºâ„Äç„ÇíÊòéÁ¢∫„Å´Âå∫Âà•„Åó„Å¶Ë©±„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ","üí° „Éí„É≥„Éà: Áõ∏Êâã„ÅÆË´ñÁêÜ„ÅÆÈ£õË∫çÔºàÈö†„Çå„ÅüÂâçÊèêÔºâ„ÇíË¶ã„Å§„Åë„Çã„ÅÆ„ÅåÂèçË´ñ„ÅÆ„Ç≥„ÉÑ„Åß„Åô„ÄÇ","üí° „Éí„É≥„Éà: ÊÑüÊÉÖÁöÑ„Å´„Å™„Å£„Åü„ÇâÊ∑±ÂëºÂê∏„ÄÇË´ñÁêÜ„ÅØÂÜ∑Èùô„Å™È†≠„Å´ÂÆø„Çä„Åæ„Åô„ÄÇ","üí° „Éí„É≥„Éà: ÂÑ™„Çå„Åü„Éá„Ç£„Éô„Éº„Çø„Éº„ÅØ„ÄÅËÅ¥Ë°ÜÔºà„Ç∏„É£„ÉÉ„Ç∏Ôºâ„ÇíÂë≥Êñπ„Å´„Å§„Åë„ÇãË©±„ÅóÊñπ„Çí„Åó„Åæ„Åô„ÄÇ","üí° „Éí„É≥„Éà: „Äå„Å™„ÅúÔºü„Äç„Å®Âïè„ÅÑÁ∂ö„Åë„Çã„Åì„Å®„Åß„ÄÅÊú¨Ë≥™ÁöÑ„Å™Ë≠∞Ë´ñ„ÅåÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô„ÄÇ","üí° „Éí„É≥„Éà: Êï∞Â≠ó„ÇÑ„Éá„Éº„Çø„ÇíÁî®„ÅÑ„Çã„Å®„ÄÅ‰∏ªÂºµ„ÅÆÂÆ¢Ë¶≥ÊÄß„Åå‰∏ÄÊ∞ó„Å´È´ò„Åæ„Çä„Åæ„Åô„ÄÇ","üí° „Éí„É≥„Éà: Áõ∏Êâã„ÅÆ„ÄåÂÆöÁæ©„Äç„ÅåÊõñÊòß„Å™„Å®„Åç„ÅØ„ÄÅ„Åù„Åì„ÇíÁ™Å„Åè„ÉÅ„É£„É≥„Çπ„Åß„Åô„ÄÇ"],$t=(t,s,a)=>{const{showError:r}=ye(),[l,m]=u.useState(d.DEBATE),[o,c]=u.useState(""),[n,p]=u.useState(D.POLICY),[i,h]=u.useState(S.NORMAL),[g,x]=u.useState([]),[j,v]=u.useState(!1),[k,f]=u.useState(!1),[T,A]=u.useState(!1),[M,z]=u.useState(!1),[O,_]=u.useState("PRO"),[R,L]=u.useState(null);u.useEffect(()=>{P()},[]);const P=()=>{const y=[...Ft].sort(()=>.5-Math.random());x(y.slice(0,5))};return{activeMode:l,setActiveMode:m,topic:o,setTopic:y=>{c(y),l===d.STORY&&L(null)},debateType:n,setDebateType:p,difficulty:i,setDifficulty:h,suggestedTopics:g,aStance:O,setAStance:_,storyScenario:R,setStoryScenario:L,isGeneratingTopic:j,isRefreshingSuggestions:k,isAnalyzingWeakness:T,isGeneratingScenario:M,shuffleTopics:P,handleAiSuggestions:async()=>{f(!0);try{const{topics:y,usage:I}=await Je(l===d.DEBATE?n:void 0);x(y),s(I)}catch(y){console.error(y)}finally{f(!1)}},handleGenerateScenario:async()=>{if(o.trim()){z(!0);try{const{scenario:y,usage:I}=await Xe(o);L(y),s(I)}catch(y){console.error(y),r("„Ç∑„Éä„É™„Ç™ÁîüÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ")}finally{z(!1)}}},handleLuckyTopic:async()=>{v(!0);try{const{topic:y,usage:I}=await Qe(l===d.DEBATE?n:void 0);c(y),s(I)}catch(y){console.error(y)}finally{v(!1)}},handleStartDebate:y=>{y.preventDefault(),o.trim()&&t({topic:o,difficulty:i,mode:l,debateType:l===d.DEBATE?n:void 0,facilitationSettings:l===d.FACILITATION?{aStance:O}:void 0,storyScenario:l===d.STORY&&R?R:void 0})},handleStartWithPreset:y=>{t({topic:y.topic||"Unknown Topic",difficulty:y.difficulty||S.NORMAL,mode:y.mode||l,thinkingFramework:y.thinkingFramework,miniGameType:y.miniGameType})},handleStartTraining:async()=>{if(a.length!==0){A(!0);try{const{profile:y,usage:I}=await Ce(a);s(I),t({topic:"Âº±ÁÇπÂÖãÊúç„Éà„É¨„Éº„Éã„É≥„Ç∞",difficulty:S.HARD,mode:d.TRAINING,weaknessProfile:y})}catch(y){console.error(y),r("Âº±ÁÇπÂàÜÊûê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ")}finally{A(!1)}}}}},Ht=({tokenUsage:t,archivesCount:s,onShowHistory:a,onShowSystemInfo:r,onShowSpecification:l})=>{const o=(c=>{const n=c.inputTokens/1e6*.075,p=c.outputTokens/1e6*.3,i=n+p,h=i*150,g=c.totalTokens,x=g>0?i/g*1e3:0,j=g>0?h/g*1e3:0;return{usd:i,jpy:h,ratePer1kUSD:x,ratePer1kJPY:j}})(t);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"absolute top-4 left-4 sm:top-6 sm:left-6 animate-fade-in z-10 flex gap-2",children:[e.jsxs("button",{onClick:a,className:"flex items-center gap-1.5 px-3 py-1.5 bg-white text-slate-600 rounded-lg border border-slate-200 text-xs font-medium shadow-sm transition-all hover:bg-slate-50 hover:text-blue-600",children:[e.jsx(it,{size:14,className:"text-slate-400"}),e.jsxs("span",{children:["Â±•Ê≠¥ (",s,")"]})]}),e.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1.5 bg-white text-slate-600 rounded-lg border border-slate-200 text-xs font-medium shadow-sm transition-all hover:bg-slate-50 hover:text-blue-600",title:"„Ç∑„Çπ„ÉÜ„É†ÊßãÊàê„ÇíË°®Á§∫",children:[e.jsx(dt,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"hidden sm:inline",children:"System"})]}),e.jsxs("button",{onClick:l,className:"flex items-center gap-1.5 px-3 py-1.5 bg-white text-slate-600 rounded-lg border border-slate-200 text-xs font-medium shadow-sm transition-all hover:bg-slate-50 hover:text-indigo-600",title:"„Ç¢„Éó„É™„ÅÆ‰ªïÊßòÊõ∏„ÇíË°®Á§∫",children:[e.jsx(ct,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"hidden sm:inline",children:"‰ªïÊßòÊõ∏"})]})]}),e.jsxs("div",{className:"absolute top-4 right-4 sm:top-6 sm:right-6 animate-fade-in flex flex-col items-end gap-1.5 z-10",children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 text-slate-600 rounded-lg border border-slate-200 text-xs font-medium shadow-sm transition-all hover:bg-slate-200",title:`Input: ${t.inputTokens.toLocaleString()}, Output: ${t.outputTokens.toLocaleString()}`,children:[e.jsx(mt,{size:14,className:"text-slate-400"}),e.jsxs("span",{children:[t.totalTokens.toLocaleString()," tokens"]})]}),t.totalTokens>0&&e.jsxs("div",{className:"flex flex-col items-end bg-white/80 backdrop-blur-sm rounded-lg border border-slate-100 shadow-sm p-2 gap-1 transition-all hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] font-semibold text-slate-600",children:[e.jsx(xt,{size:12,className:"text-slate-400"}),e.jsxs("span",{children:["Total: $",o.usd.toFixed(6)]}),e.jsxs("span",{className:"text-slate-400 border-l border-slate-200 pl-1.5 ml-0.5",children:["(",o.jpy.toFixed(2),"ÂÜÜ)"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-slate-400",children:[e.jsx(pt,{size:10}),e.jsxs("span",{children:["@1k tokens: $",o.ratePer1kUSD.toFixed(6)]}),e.jsxs("span",{className:"border-l border-slate-200 pl-1 ml-1",children:["(",o.ratePer1kJPY.toFixed(4),"ÂÜÜ)"]})]})]})]})]})},ae={full:"3.4.3",name:"DebateMaster AI",releaseDate:"2025-12-22",codename:"Active Inoculation"},Ut=({activeMode:t})=>{const a=(()=>{switch(t){case d.TRAINING:return{iconBg:"bg-red-100",iconColor:"text-red-600",Icon:W};case d.STUDY:return{iconBg:"bg-purple-100",iconColor:"text-purple-600",Icon:ce};case d.DRILL:return{iconBg:"bg-orange-100",iconColor:"text-orange-600",Icon:Ne};case d.FACILITATION:return{iconBg:"bg-green-100",iconColor:"text-green-600",Icon:Le};case d.THINKING_GYM:return{iconBg:"bg-indigo-100",iconColor:"text-indigo-600",Icon:Z};case d.STORY:return{iconBg:"bg-teal-100",iconColor:"text-teal-600",Icon:q};case d.DEMO:return{iconBg:"bg-sky-100",iconColor:"text-sky-600",Icon:de};case d.TEXTBOOK:return{iconBg:"bg-emerald-100",iconColor:"text-emerald-600",Icon:ie};case d.MINIGAME:return{iconBg:"bg-pink-100",iconColor:"text-pink-600",Icon:oe};default:return{iconBg:"bg-blue-100",iconColor:"text-blue-600",Icon:ht}}})();return e.jsxs("div",{className:"mb-6 text-center animate-fade-in-up mt-8 sm:mt-0 w-full",children:[e.jsx("div",{className:`w-16 h-16 ${a.iconBg} ${a.iconColor} rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm animate-pop-in transition-colors duration-300`,children:e.jsx(a.Icon,{size:32})},t),e.jsxs("h1",{className:"text-3xl font-bold text-slate-900 mb-2 flex items-center justify-center gap-3",children:[ae.name,e.jsxs("span",{className:"text-xs font-normal text-slate-400 bg-slate-100 px-2 py-1 rounded-full border border-slate-200",children:["vv",ae.full]})]}),e.jsx("p",{className:"text-slate-600",children:"AI„Å®Ë≠∞Ë´ñ„Åó„Å¶„ÄÅ„É≠„Ç∏„Ç´„É´„Ç∑„É≥„Ç≠„É≥„Ç∞„Å®Ë™¨ÂæóÂäõ„ÇíÈçõ„Åà„Åæ„Åó„Çá„ÅÜ„ÄÇ"}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Release: ",ae.releaseDate," | Codename: ",ae.codename]})]})},Yt=({activeMode:t,onSelectMode:s})=>{const a=[{mode:d.DEBATE,label:"Ë≠∞Ë´ñÂÆüË∑µ",icon:te,color:"text-blue-600"},{mode:d.TEXTBOOK,label:"ÊïôÁßëÊõ∏",icon:ie,color:"text-emerald-600"},{mode:d.MINIGAME,label:"„Éü„Éã„Ç≤„Éº„É†",icon:oe,color:"text-pink-600"},{mode:d.DEMO,label:"Ê®°ÁØÑË¶ñËÅ¥",icon:de,color:"text-sky-600"},{mode:d.FACILITATION,label:"ÂêàÊÑèÂΩ¢Êàê",icon:Le,color:"text-green-600"},{mode:d.STORY,label:"„Ç∑„Éä„É™„Ç™",icon:q,color:"text-teal-600"},{mode:d.THINKING_GYM,label:"ÊÄùËÄÉ„Ç∏„É†",icon:Z,color:"text-indigo-600"},{mode:d.STUDY,label:"Ë©≠ÂºÅÂ≠¶Áøí",icon:ce,color:"text-purple-600"},{mode:d.DRILL,label:"„Éâ„É™„É´",icon:Ne,color:"text-orange-600"},{mode:d.TRAINING,label:"Âº±ÁÇπÁâπË®ì",icon:W,color:"text-red-600"}];return e.jsx("div",{className:"flex flex-wrap justify-center bg-slate-100 p-1 rounded-xl mb-6 shadow-inner animate-fade-in-up delay-100 gap-1",children:a.map(r=>e.jsxs("button",{onClick:()=>s(r.mode),className:`flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-xs font-bold transition-all duration-200 ${t===r.mode?`bg-white ${r.color} shadow-sm`:"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(r.icon,{size:14}),r.label]},r.mode))})},Wt=({topic:t,setTopic:s,activeMode:a,debateType:r,suggestedTopics:l,isGeneratingRandom:m,isRefreshingSuggestions:o,onGenerateRandom:c,onRefreshSuggestions:n,onShuffleSuggestions:p})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"topic",className:"block text-sm font-semibold text-slate-700 mb-2",children:a===d.FACILITATION?"ÂêàÊÑèÂΩ¢Êàê„ÅÆ„ÉÜ„Éº„Éû":a===d.STORY?"Áâ©Ë™û„ÅÆ„ÉÜ„Éº„Éû„ÉªË®≠ÂÆö":"Ë≠∞Ë´ñ„ÅÆ„ÉÜ„Éº„Éû"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"topic",type:"text",value:t,onChange:i=>s(i.target.value),placeholder:a===d.STORY?"‰æã: „Éë„É≥„Éá„Éü„ÉÉ„ÇØÂØæÁ≠ñ„ÄÅAI„ÅÆÂèç‰π±„ÄÅÂÆáÂÆôÁßªÊ∞ë":"‰æã: „É™„É¢„Éº„Éà„ÉØ„Éº„ÇØ„ÅØÁîüÁî£ÊÄß„ÇíÈ´ò„ÇÅ„Çã„ÅãÔºü",className:"flex-1 px-4 py-3 rounded-xl border border-slate-200 bg-white text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all placeholder-slate-400 hover:border-blue-300 appearance-none",required:!0}),e.jsxs("button",{type:"button",onClick:c,disabled:m,className:"px-4 py-2 rounded-xl border border-slate-200 bg-gradient-to-b from-white to-slate-50 text-slate-700 hover:from-slate-50 hover:to-slate-100 hover:text-blue-600 hover:border-blue-200 transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-70 disabled:cursor-wait min-w-[140px] shadow-sm",title:"ÈÅ∏Êäû‰∏≠„ÅÆÁ®ÆÈ°û„Å´Âêà„Çè„Åõ„Åü„ÉÜ„Éº„Éû„ÇíËá™ÂãïÁîüÊàê",children:[m?e.jsx(ee,{size:20,className:"animate-spin"}):e.jsx(ut,{size:20}),e.jsx("span",{className:"text-sm font-medium",children:"„Åä„Åæ„Åã„Åõ"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-2",children:[e.jsx(fe,{size:16,className:"text-yellow-500"}),"„Åä„Åô„Åô„ÇÅ„ÅÆ„ÉÜ„Éº„Éû"," ",a===d.DEBATE&&e.jsxs("span",{className:"text-xs font-normal text-slate-400",children:["(",r===D.POLICY?"ÊîøÁ≠ñ":r===D.FACT?"Êé®ÂÆö":"‰æ°ÂÄ§",")"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:p,className:"text-slate-500 hover:text-blue-600 transition-colors p-1.5 rounded-md hover:bg-slate-100 flex items-center gap-1 text-xs font-medium",title:"„É™„Çπ„Éà„Çí„Ç∑„É£„ÉÉ„Éï„É´ÔºàAPI‰∏ç‰ΩøÁî®Ôºâ",children:[e.jsx(gt,{size:12}),e.jsx("span",{children:"ÂÖ•Êõø"})]}),e.jsxs("button",{type:"button",onClick:n,disabled:o,className:"text-blue-700 bg-gradient-to-b from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 transition-colors py-1 px-2 rounded-md flex items-center gap-1.5 text-xs font-bold disabled:opacity-50",title:"AI„Çí‰Ωø„Å£„Å¶Êñ∞„Åó„ÅÑ„ÉÜ„Éº„ÉûÊ°à„Çí5„Å§ÁîüÊàê„Åô„Çã",children:[o?e.jsx(ee,{size:12,className:"animate-spin"}):e.jsx(Re,{size:12}),e.jsx("span",{children:"AIÊèêÊ°à"})]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 min-h-[80px]",children:o?e.jsxs("div",{className:"w-full flex items-center justify-center h-20 text-slate-400 gap-2 text-sm animate-pulse",children:[e.jsx(fe,{size:16}),"Êñ∞„Åó„ÅÑ„ÉÜ„Éº„Éû„ÇíËÄÉÊ°à‰∏≠..."]}):l.map((i,h)=>e.jsx("button",{type:"button",onClick:()=>s(i),className:"px-3 py-1.5 rounded-full bg-slate-50 text-slate-600 text-sm hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 border border-slate-200 transition-all active:scale-95 animate-fade-in text-left",children:i},`${i}-${h}`))})]})]}),Kt=({difficulty:t,setDifficulty:s})=>e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Èõ£ÊòìÂ∫¶Ë®≠ÂÆö (4 Stages)"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest bg-slate-100 px-2 py-0.5 rounded",children:"Fixed difficulty levels"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>s(S.EASY),className:`group flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all duration-300 active:scale-95 ${t===S.EASY?"border-emerald-500 bg-emerald-50 text-emerald-700 shadow-lg shadow-emerald-100 transform -translate-y-1":"border-slate-100 hover:border-emerald-200 text-slate-500 hover:bg-emerald-50/30"}`,children:[e.jsx("div",{className:`p-3 rounded-xl mb-2 transition-colors ${t===S.EASY?"bg-emerald-500 text-white":"bg-slate-100 text-slate-400 group-hover:bg-emerald-100 group-hover:text-emerald-500"}`,children:e.jsx(Oe,{size:24})}),e.jsx("span",{className:"font-bold text-sm",children:"ÂàùÁ¥ö"}),e.jsxs("span",{className:"text-[10px] mt-1 opacity-80 font-medium text-center leading-tight",children:["Áß∞Ë≥õ„Å®„Ç≥„Éº„ÉÅ„É≥„Ç∞",e.jsx("br",{}),"Ë≠∞Ë´ñ„ÅÆÂü∫Á§é‰Ωú„Çä"]})]}),e.jsxs("button",{type:"button",onClick:()=>s(S.NORMAL),className:`group flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all duration-300 active:scale-95 ${t===S.NORMAL?"border-blue-500 bg-blue-50 text-blue-700 shadow-lg shadow-blue-100 transform -translate-y-1":"border-slate-100 hover:border-blue-200 text-slate-500 hover:bg-blue-50/30"}`,children:[e.jsx("div",{className:`p-3 rounded-xl mb-2 transition-colors ${t===S.NORMAL?"bg-blue-500 text-white":"bg-slate-100 text-slate-400 group-hover:bg-blue-100 group-hover:text-blue-500"}`,children:e.jsx(re,{size:24})}),e.jsx("span",{className:"font-bold text-sm",children:"‰∏≠Á¥ö"}),e.jsxs("span",{className:"text-[10px] mt-1 opacity-80 font-medium text-center leading-tight",children:["Ë´ñÁêÜÁöÑ‰∏ÄË≤´ÊÄß",e.jsx("br",{}),"Ê®ôÊ∫ñÁöÑ„Å™ÂØæË´ñ"]})]}),e.jsxs("button",{type:"button",onClick:()=>s(S.HARD),className:`group flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all duration-300 active:scale-95 ${t===S.HARD?"border-orange-500 bg-orange-50 text-orange-700 shadow-lg shadow-orange-100 transform -translate-y-1":"border-slate-100 hover:border-orange-200 text-slate-500 hover:bg-orange-50/30"}`,children:[e.jsx("div",{className:`p-3 rounded-xl mb-2 transition-colors ${t===S.HARD?"bg-orange-500 text-white":"bg-slate-100 text-slate-400 group-hover:bg-orange-100 group-hover:text-orange-500"}`,children:e.jsx(te,{size:24})}),e.jsx("span",{className:"font-bold text-sm",children:"‰∏äÁ¥ö"}),e.jsxs("span",{className:"text-[10px] mt-1 opacity-80 font-medium text-center leading-tight",children:["Èã≠„ÅÑÂèçË®º„Å®Ê∑±Êéò„Çä",e.jsx("br",{}),"Á´∂ÊäÄ„ÉªÂ§ß‰ºö„É¨„Éô„É´"]})]}),e.jsxs("button",{type:"button",onClick:()=>s(S.EXTREME),className:`group flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all duration-300 active:scale-95 ${t===S.EXTREME?"border-purple-600 bg-purple-50 text-purple-800 shadow-lg shadow-purple-100 transform -translate-y-1":"border-slate-100 hover:border-purple-200 text-slate-500 hover:bg-purple-50/30"}`,children:[e.jsx("div",{className:`p-3 rounded-xl mb-2 transition-colors ${t===S.EXTREME?"bg-purple-600 text-white":"bg-slate-100 text-slate-400 group-hover:bg-purple-100 group-hover:text-purple-500"}`,children:e.jsx(bt,{size:24})}),e.jsx("span",{className:"font-bold text-sm",children:"Ë∂Ö‰∏äÁ¥ö"}),e.jsxs("span",{className:"text-[10px] mt-1 opacity-80 font-medium text-center leading-tight",children:["Ë©≠ÂºÅ„ÉªË™òÂ∞é„ÉªÂøÉÁêÜÊà¶",e.jsx("br",{}),"ÊúÄÂº∑„ÅÆË´ñÂÆ¢„Å´Êåë„ÇÄ"]})]})]})]}),Qt=({debateType:t,setDebateType:s})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Ë´ñÈ°å„ÅÆÁ®ÆÈ°ûÔºàDebate TypeÔºâ"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>s(D.POLICY),className:`flex flex-col p-4 rounded-xl border-2 transition-all duration-200 text-left relative overflow-hidden group ${t===D.POLICY?"border-blue-500 bg-blue-50/50 text-blue-900 shadow-md":"border-slate-100 hover:border-blue-200 text-slate-500 hover:bg-slate-50"}`,children:[e.jsx("div",{className:`p-2 rounded-lg w-fit mb-2 transition-colors ${t===D.POLICY?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-400 group-hover:bg-blue-50 group-hover:text-blue-500"}`,children:e.jsx(ft,{size:20})}),e.jsx("span",{className:"font-bold text-sm mb-1",children:"ÊîøÁ≠ñË´ñÈ°å (Policy)"}),e.jsxs("span",{className:"text-xs opacity-80 leading-tight",children:["Ë°åÂãï„Éª„É´„Éº„É´„ÅÆÊòØÈùû„ÄÇ",e.jsx("br",{}),"„ÄåÔΩû„Åô„Åπ„Åç„Åã„Äç"]})]}),e.jsxs("button",{type:"button",onClick:()=>s(D.FACT),className:`flex flex-col p-4 rounded-xl border-2 transition-all duration-200 text-left relative overflow-hidden group ${t===D.FACT?"border-indigo-500 bg-indigo-50/50 text-indigo-900 shadow-md":"border-slate-100 hover:border-indigo-200 text-slate-500 hover:bg-slate-50"}`,children:[e.jsx("div",{className:`p-2 rounded-lg w-fit mb-2 transition-colors ${t===D.FACT?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-400 group-hover:bg-indigo-50 group-hover:text-indigo-500"}`,children:e.jsx(jt,{size:20})}),e.jsx("span",{className:"font-bold text-sm mb-1",children:"Êé®ÂÆöË´ñÈ°å (Fact)"}),e.jsxs("span",{className:"text-xs opacity-80 leading-tight",children:["‰∫ãÂÆü„ÅÆÁúüÂÅΩ„ÇÑ‰∫àÊ∏¨„ÄÇ",e.jsx("br",{}),"„ÄåÔΩû„Åß„ÅÇ„Çã„Åã„Äç"]})]}),e.jsxs("button",{type:"button",onClick:()=>s(D.VALUE),className:`flex flex-col p-4 rounded-xl border-2 transition-all duration-200 text-left relative overflow-hidden group ${t===D.VALUE?"border-pink-500 bg-pink-50/50 text-pink-900 shadow-md":"border-slate-100 hover:border-pink-200 text-slate-500 hover:bg-slate-50"}`,children:[e.jsx("div",{className:`p-2 rounded-lg w-fit mb-2 transition-colors ${t===D.VALUE?"bg-pink-100 text-pink-600":"bg-slate-100 text-slate-400 group-hover:bg-pink-50 group-hover:text-pink-500"}`,children:e.jsx(fe,{size:20})}),e.jsx("span",{className:"font-bold text-sm mb-1",children:"‰æ°ÂÄ§Ë´ñÈ°å (Value)"}),e.jsxs("span",{className:"text-xs opacity-80 leading-tight",children:["‰æ°ÂÄ§Ë¶≥„ÅÆÂñÑÊÇ™„ÉªÂÑ™Âä£„ÄÇ",e.jsx("br",{}),"„ÄåÔΩû„ÅØÂñÑ„Åã„Äç"]})]})]})]}),Xt=({activeMode:t,aStance:s,setAStance:a,storyScenario:r,setStoryScenario:l,isGeneratingScenario:m,topic:o,onGenerateScenario:c})=>t===d.FACILITATION?e.jsxs("div",{className:"bg-green-50 p-5 rounded-xl border border-green-100 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4 text-green-800",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-green-600",children:e.jsx(je,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"„Éï„Ç°„Ç∑„É™„ÉÜ„Éº„Ç∑„Éß„É≥„Éª„Ç∑„Éü„É•„É¨„Éº„Çø„Éº"}),e.jsxs("p",{className:"text-sm opacity-90 leading-relaxed",children:["„ÅÇ„Å™„Åü„ÅØË≠∞Ë´ñ„ÅÆÈÄ≤Ë°åÂΩπÔºà„Éï„Ç°„Ç∑„É™„ÉÜ„Éº„Çø„ÉºÔºâ„Åß„Åô„ÄÇ",e.jsx("br",{}),e.jsx("span",{className:"font-bold text-red-600",children:"ÊÑüÊÉÖÁöÑ„Å™A„Åï„Çì"}),"„Å®",e.jsx("span",{className:"font-bold text-blue-600",children:"Ë´ñÁêÜÁöÑ„Å™B„Åï„Çì"}),"„ÅÆÂØæÁ´ã„Åô„ÇãÊÑèË¶ã„ÇíÊï¥ÁêÜ„Åó„ÄÅÂêàÊÑèÂΩ¢Êàê„ÇíÁõÆÊåá„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-green-800 uppercase tracking-wider mb-2",children:"A„Åï„ÇìÔºàÊÑüÊÉÖÊ¥æÔºâ„ÅÆÁ´ãÂ†¥"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>a("PRO"),className:`flex-1 py-3 px-4 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all border-2 ${s==="PRO"?"bg-white border-green-500 text-green-700 shadow-sm":"bg-green-100/50 border-transparent text-green-800/60 hover:bg-green-100"}`,children:[e.jsx(yt,{size:16,className:s==="PRO"?"text-green-600":"opacity-50"}),e.jsx("span",{children:"ËÇØÂÆöÂÅ¥ (Pro)"})]}),e.jsxs("button",{type:"button",onClick:()=>a("CON"),className:`flex-1 py-3 px-4 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all border-2 ${s==="CON"?"bg-white border-red-500 text-red-700 shadow-sm":"bg-green-100/50 border-transparent text-green-800/60 hover:bg-green-100"}`,children:[e.jsx(Nt,{size:16,className:s==="CON"?"text-red-600":"opacity-50"}),e.jsx("span",{children:"Âê¶ÂÆöÂÅ¥ (Con)"})]})]}),e.jsx("p",{className:"text-xs text-green-700 mt-2 text-center",children:"‚Äª B„Åï„ÇìÔºàË´ñÁêÜÊ¥æÔºâ„ÅØËá™ÂãïÁöÑ„Å´ÂèçÂØæ„ÅÆÁ´ãÂ†¥„Å´„Å™„Çä„Åæ„Åô„ÄÇ"})]})]}):t===d.STORY?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-teal-50 p-5 rounded-xl border border-teal-100 space-y-4",children:e.jsxs("div",{className:"flex items-start gap-4 text-teal-800",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-teal-600",children:e.jsx(q,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"‰∏ñÁïåË¶≥„Ç∑„Éä„É™„Ç™„Éª„Éá„Ç£„Éô„Éº„Éà"}),e.jsxs("p",{className:"text-sm opacity-90 leading-relaxed",children:["AI„ÅåÊû∂Á©∫„ÅÆ‰∏ñÁïå„Å®Âç±Ê©üÁöÑÁä∂Ê≥Å„ÇíÁîüÊàê„Åó„Åæ„Åô„ÄÇ",e.jsx("br",{}),"„ÅÇ„Å™„Åü„ÅØ„Åù„ÅÆ‰∏ñÁïå„ÅÆ‰∏ÄÂì°„Å®„Åó„Å¶ÂΩπÂâ≤„Çí‰∏é„Åà„Çâ„Çå„ÄÅÈáçË¶Å„Å™ÊÑèÊÄùÊ±∫ÂÆö„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ"]})]})]})}),r?e.jsxs("div",{className:"bg-white border border-teal-200 rounded-xl overflow-hidden shadow-sm animate-fade-in",children:[e.jsxs("div",{className:"bg-teal-50 px-4 py-3 border-b border-teal-100 flex justify-between items-center",children:[e.jsxs("span",{className:"font-bold text-teal-800 flex items-center gap-2",children:[e.jsx(vt,{size:16})," ÁîüÊàê„Åï„Çå„Åü„Ç∑„Éä„É™„Ç™"]}),e.jsx("button",{type:"button",onClick:()=>l(null),className:"text-xs text-teal-600 hover:underline",children:"ÂÜçÁîüÊàê"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-1",children:r.title}),e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:r.worldSetting})]}),e.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:[e.jsx("h5",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"„ÅÇ„Å™„Åü„ÅÆÂΩπÂâ≤"}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"bg-teal-100 p-1.5 rounded-full text-teal-700 mt-0.5",children:e.jsx(je,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-800",children:r.userRole.title}),e.jsx("p",{className:"text-xs text-slate-600",children:r.userRole.mission})]})]})]}),e.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:[e.jsx("h5",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"‰∏ª„Å™ÁôªÂ†¥‰∫∫Áâ©"}),e.jsx("ul",{className:"text-sm text-slate-700 space-y-1 list-disc pl-4",children:r.stakeholders.map((n,p)=>e.jsxs("li",{children:[e.jsx("span",{className:"font-bold",children:n.name})," (",n.role,"):"," ",n.standpoint.substring(0,30),"..."]},p))})]})]})]}):e.jsx(J,{type:"button",onClick:c,disabled:!o.trim()||m,fullWidth:!0,className:"bg-teal-600 hover:bg-teal-700 text-white",children:m?e.jsxs(e.Fragment,{children:[e.jsx(ee,{size:18,className:"animate-spin mr-2"}),"„Ç∑„Éä„É™„Ç™ÁîüÊàê‰∏≠..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{size:18,className:"mr-2"}),"„Ç∑„Éä„É™„Ç™„ÇíÁîüÊàê„Åô„Çã"]})})]}):t===d.DEMO?e.jsx("div",{className:"bg-sky-50 p-5 rounded-xl border border-sky-100 space-y-4",children:e.jsxs("div",{className:"flex items-start gap-4 text-sky-800",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-sky-600",children:e.jsx(de,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"Ê®°ÁØÑ„Éá„Ç£„Éô„Éº„ÉàË¶ñËÅ¥„É¢„Éº„Éâ"}),e.jsxs("p",{className:"text-sm opacity-90 leading-relaxed",children:["AIÂêåÂ£´ÔºàAlice vs BobÔºâ„ÅÆ„Éè„Ç§„É¨„Éô„É´„Å™Ë≠∞Ë´ñ„ÇíË¶≥ÂØü„Åó„Åæ„Åô„ÄÇ",e.jsx("br",{}),"Áô∫Ë®Ä„Åî„Å®„Å´",e.jsx("span",{className:"font-bold text-indigo-600",children:"„É™„Ç¢„É´„Çø„Ç§„É†„ÅÆËß£Ë™¨"}),"„Åå‰ªò„Åç„ÄÅË´ñÁêÜÊßãÊàê„ÇÑ„É¨„Éà„É™„ÉÉ„ÇØ„Çí‰øØÁû∞„Åó„Å¶Â≠¶„Åπ„Åæ„Åô„ÄÇ"]})]})]})}):null,Ie=[{name:"components",type:"folder",children:[{name:"chat",type:"folder",children:[{name:"message",type:"folder",children:[{name:"DemoMessage.tsx",type:"file"},{name:"MessageHighlighter.tsx",type:"file"},{name:"MultiSpeakerMessage.tsx",type:"file"},{name:"StandardMessage.tsx",type:"file"},{name:"StructureHeatmap.tsx",type:"file"}]},{name:"ArgumentBuilderModal.tsx",type:"file"},{name:"DebatePhaseBar.tsx",type:"file"},{name:"InputArea.tsx",type:"file"},{name:"MessageItem.tsx",type:"file"},{name:"SummaryModal.tsx",type:"file"},{name:"SupportPanel.tsx",type:"file"},{name:"ThinkingGymModal.tsx",type:"file"},{name:"ThinkingIndicator.tsx",type:"file"},{name:"WhiteboardModal.tsx",type:"file"}]},{name:"common",type:"folder",children:[{name:"LoadingOverlay.tsx",type:"file"}]},{name:"feedback",type:"folder",children:[{name:"DemoAnalysisView.tsx",type:"file"},{name:"DetailedReviewSection.tsx",type:"file"},{name:"ExemplarSection.tsx",type:"file"},{name:"FacilitationCard.tsx",type:"file"},{name:"LogicSection.tsx",type:"file"},{name:"MetricsRadarChart.tsx",type:"file"},{name:"QuestioningCard.tsx",type:"file"},{name:"QuestioningSection.tsx",type:"file"},{name:"RhetoricCard.tsx",type:"file"},{name:"ScoreTrendChart.tsx",type:"file"},{name:"StoryAnalysisCard.tsx",type:"file"},{name:"SummarySection.tsx",type:"file"},{name:"ToulminCard.tsx",type:"file"}]},{name:"history",type:"folder",children:[{name:"HistoryItem.tsx",type:"file"}]},{name:"minigame",type:"folder",children:[{name:"ComboRebuttalView.tsx",type:"file"},{name:"EvidenceFillView.tsx",type:"file"},{name:"FallacyQuizView.tsx",type:"file"},{name:"FermiEstimationView.tsx",type:"file"},{name:"GameFeedbackOverlay.tsx",type:"file"},{name:"GameResultView.tsx",type:"file"},{name:"IssuePuzzleView.tsx",type:"file"},{name:"LateralThinkingView.tsx",type:"file"}]},{name:"premise",type:"folder",children:[{name:"LoadingView.tsx",type:"file"},{name:"PremiseEditor.tsx",type:"file"}]},{name:"setup",type:"folder",children:[{name:"AppHeader.tsx",type:"file"},{name:"DebateTypeCards.tsx",type:"file"},{name:"DifficultyCards.tsx",type:"file"},{name:"ModeGrid.tsx",type:"file"},{name:"ModeSettings.tsx",type:"file"},{name:"SpecificationModal.tsx",type:"file"},{name:"SystemInfoModal.tsx",type:"file"},{name:"TokenStatus.tsx",type:"file"},{name:"TopicInput.tsx",type:"file"}]},{name:"textbook",type:"folder",children:[{name:"AttackQuizView.tsx",type:"file"},{name:"DefinitionLab.tsx",type:"file"},{name:"DefinitionQuizView.tsx",type:"file"},{name:"StandardQuizView.tsx",type:"file"},{name:"ToulminLab.tsx",type:"file"},{name:"WeighingQuizView.tsx",type:"file"},{name:"chapters.tsx",type:"file"}]},{name:"Button.tsx",type:"file"},{name:"ChatScreen.tsx",type:"file"},{name:"FeedbackScreen.tsx",type:"file"},{name:"HistoryScreen.tsx",type:"file"},{name:"MiniGameScreen.tsx",type:"file"},{name:"PremiseCheckScreen.tsx",type:"file"},{name:"SetupScreen.tsx",type:"file"},{name:"TextbookScreen.tsx",type:"file"}]},{name:"core",type:"folder",children:[{name:"config",type:"folder",children:[{name:"constants.ts",type:"file"},{name:"gemini.config.ts",type:"file"}]},{name:"types",type:"folder",children:[{name:"common.types.ts",type:"file"},{name:"debate.types.ts",type:"file"},{name:"feedback.types.ts",type:"file"},{name:"homework.types.ts",type:"file"},{name:"index.ts",type:"file"},{name:"minigame.types.ts",type:"file"},{name:"mode.types.ts",type:"file"},{name:"persistence.types.ts",type:"file"},{name:"story.types.ts",type:"file"},{name:"textbook.types.ts",type:"file"}]}]},{name:"hooks",type:"folder",children:[{name:"useChatTools.ts",type:"file"},{name:"useDebateApp.ts",type:"file"},{name:"useDebateArchives.ts",type:"file"},{name:"useFeedbackLogic.ts",type:"file"},{name:"useHistoryLogic.ts",type:"file"},{name:"useLoadingSimulation.ts",type:"file"},{name:"useMessageAnalysis.ts",type:"file"},{name:"useMiniGameLogic.ts",type:"file"},{name:"usePremiseLogic.ts",type:"file"},{name:"useSetupLogic.ts",type:"file"},{name:"useTextbookLogic.ts",type:"file"}]},{name:"services",type:"folder",children:[{name:"gemini",type:"folder",children:[{name:"analysis",type:"folder",children:[{name:"advice.ts",type:"file"},{name:"fact-check.ts",type:"file"},{name:"feedback.ts",type:"file"},{name:"phase.ts",type:"file"},{name:"strategy.ts",type:"file"},{name:"structure.ts",type:"file"},{name:"summary.ts",type:"file"}]},{name:"prompts",type:"folder",children:[{name:"analysis",type:"folder"},{name:"modes",type:"folder"},{name:"setup",type:"folder"},{name:"session",type:"folder"},{name:"core.ts",type:"file"}]},{name:"training",type:"folder"},{name:"utils",type:"folder"},{name:"chat-service.ts",type:"file"},{name:"client.ts",type:"file"},{name:"index.ts",type:"file"},{name:"instructions.ts",type:"file"}]},{name:"persistence",type:"folder",children:[{name:"backup.ts",type:"file"}]}]},{name:"App.tsx",type:"file"},{name:"index.html",type:"file"},{name:"index.tsx",type:"file"},{name:"metadata.json",type:"file"},{name:"SPECIFICATION.md",type:"file"}],Jt=({name:t,type:s,children:a,level:r=0})=>{const[l,m]=u.useState(r<1),o=r*16;return s==="folder"?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1.5 py-1 px-2 hover:bg-slate-100 rounded cursor-pointer text-xs font-medium text-slate-700 select-none transition-colors",style:{paddingLeft:`${o+8}px`},onClick:()=>m(!l),children:[l?e.jsx(St,{size:14,className:"text-slate-400"}):e.jsx(At,{size:14,className:"text-slate-400"}),e.jsx(Be,{size:14,className:"text-blue-400 fill-blue-100"}),e.jsx("span",{children:t})]}),l&&a]}):e.jsxs("div",{className:"flex items-center gap-1.5 py-1 px-2 hover:bg-slate-50 rounded text-xs text-slate-600 ml-5",style:{paddingLeft:`${o+8}px`},children:[t.endsWith("json")?e.jsx(It,{size:14,className:"text-amber-500"}):t.endsWith("md")?e.jsx(we,{size:14,className:"text-slate-400"}):e.jsx(we,{size:14,className:"text-cyan-500"}),e.jsx("span",{children:t})]})},qt=({isOpen:t,onClose:s})=>{const[a,r]=u.useState(!1);if(!t)return null;const l=(n,p=0)=>n.map(i=>e.jsx(Jt,{name:i.name,type:i.type,level:p,children:i.children&&l(i.children,p+1)},i.name)),m=(n,p=0)=>n.map(i=>{const h="  ".repeat(p),g=i.type==="folder"?"üìÅ ":"üìÑ ",x=`${h}${g}${i.name}`;return i.children?`${x}
${m(i.children,p+1)}`:x}).join(`
`),o=()=>`
# DebateMaster AI vv3.4.4 - System Architecture Report

## Technology Stack
- Frontend: React 19 / TypeScript
- Styling: Tailwind CSS v4 (PostCSS)
- AI Model: Google Gemini 2.5 Flash
- Backend: Vercel Serverless Functions (Proxy Architecture)
- Persistence: Browser Local Storage with Schema Versioning (v4)
- Intelligence: Walton Argumentation Schemes & Toulmin Model Integration

## Architecture Features
- Vercel Serverless Proxy with API key protection
- Security: Rate limiting (100/min/IP), CORS whitelisting, Input validation
- Conversation history accumulation for demo mode
- Advanced logical structure mapping
- Real-time debate phase detection
- SBI-model based feedback generation
- Burden of proof tracker with caching

## Production Enhancements (v3.4.4)
- 5 API Routes: /generate, /generate-stream, /chat, /chat-stream, /health
- Unified API format across all 18 features
- Optimized facilitation mode feedback generation
- All features fully operational in production

## File Structure
${m(Ie)}
    `.trim(),c=()=>{const n=o();navigator.clipboard.writeText(n).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})};return e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col animate-pop-in border border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-slate-100 bg-slate-50/50",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(Pe,{size:24,className:"text-blue-600"}),"System Architecture"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:c,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${a?"bg-green-50 text-green-600 border-green-200":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50 hover:text-blue-600"}`,children:[a?e.jsx(ze,{size:14}):e.jsx(wt,{size:14}),a?"Copied!":"Export Text"]}),e.jsx("button",{onClick:s,className:"p-1 rounded-full hover:bg-slate-200 text-slate-400 transition-colors",children:e.jsx(_e,{size:20})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-hide",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-1",children:[e.jsx(kt,{size:14})," Intelligence Core"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{name:"Gemini 2.5",desc:"AI Engine",color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-100"},{name:"Toulmin",desc:"Logic Model",color:"text-indigo-600",bg:"bg-indigo-50",border:"border-indigo-100"},{name:"Walton",desc:"Argument Schemes",color:"text-violet-600",bg:"bg-violet-50",border:"border-violet-100"},{name:"SBI Model",desc:"Feedback Logic",color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100"}].map(n=>e.jsxs("div",{className:`p-3 rounded-xl border ${n.border} ${n.bg} flex flex-col items-center text-center`,children:[e.jsx("span",{className:`font-bold text-sm ${n.color}`,children:n.name}),e.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:n.desc})]},n.name))})]}),e.jsxs("section",{children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-1",children:[e.jsx(Tt,{size:14})," Persistence & Data"]}),e.jsx("div",{className:"bg-slate-50 p-5 rounded-xl border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white p-3 rounded-xl border border-slate-200 shadow-sm",children:e.jsx(Fe,{size:24,className:"text-indigo-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm text-slate-700",children:"Storage Version: v4.0 (Latest)"}),e.jsx("div",{className:"text-[10px] text-slate-500",children:"Local Storage JSON with automatic migration logic for legacy archives (v1-v3)."})]})]})})]}),e.jsxs("section",{children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-1",children:[e.jsx(Be,{size:14})," Source File Tree"]}),e.jsx("div",{className:"bg-slate-50 rounded-xl border border-slate-200 p-4 font-mono overflow-x-auto text-[11px] leading-relaxed",children:l(Ie)})]})]})})]})})},Zt=({isOpen:t,onClose:s})=>t?e.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-5xl max-h-[94vh] overflow-hidden flex flex-col animate-pop-in border border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-slate-100 bg-gradient-to-br from-slate-50 to-indigo-50/30",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"bg-slate-900 p-4 rounded-2xl text-white shadow-2xl rotate-2",children:e.jsx(ke,{size:32})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:["TECHNICAL MASTER SPEC ",e.jsx("span",{className:"text-indigo-600",children:"v3.4.4"})]}),e.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-[0.3em] flex items-center gap-2",children:[e.jsx(Te,{size:12,className:"text-emerald-500"})," Production-Ready System with Proxy Architecture"]})]})]}),e.jsx("button",{onClick:s,className:"p-3 rounded-full hover:bg-slate-200 text-slate-400 transition-all active:scale-90 shadow-inner",children:e.jsx(_e,{size:28})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 sm:p-12 space-y-16 scrollbar-hide",children:[e.jsxs("section",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 text-indigo-700",children:[e.jsx(Pe,{size:28,strokeWidth:2.5}),e.jsx("h4",{className:"text-2xl font-black m-0 italic uppercase tracking-tighter",children:"01. ÊÄùËÄÉ„Ç®„É≥„Ç∏„É≥„Å®Ë´ñÁêÜ„Éû„ÉÉ„Éî„É≥„Ç∞‰ªïÊßò"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-200 hover:border-indigo-300 transition-all hover:shadow-lg group",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ct,{size:20,className:"text-indigo-500"}),e.jsx("h5",{className:"font-extrabold text-slate-800",children:"Toulmin 7Ë¶ÅÁ¥†Ëß£Êûê"})]}),e.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:"Áô∫Ë®Ä„Çí CLAIM, DATA, WARRANT, BACKING, REBUTTAL, QUALIFICATION „ÅÆ7Ëª∏„ÅßÊï∞ÂÄ§Âåñ„ÄÇ0.1Âçò‰Ωç„ÅÆÂÖÖË∂≥Â∫¶„Çí„Éí„Éº„Éà„Éû„ÉÉ„Éó„ÅßÂèØË¶ñÂåñ„Åó„ÄÅË´ñÁêÜ„ÅÆÊ¨†Èô•„ÇíÁâπÂÆö„Åô„Çã„ÄÇ"})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-200 hover:border-emerald-300 transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(xe,{size:20,className:"text-emerald-500"}),e.jsx("h5",{className:"font-extrabold text-slate-800",children:"Á´ãË®ºË≤¨‰ªª„Éà„É©„ÉÉ„Ç´„Éº"})]}),e.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:"Walton„ÅÆÊâπÂà§ÁöÑË≥™ÂïèÁêÜË´ñ„Å´Âü∫„Å•„Åç„ÄÅ‰∏ªÂºµ„ÉªÂèçË®º„ÉªÁ´ãË®ºË≤¨‰ªª„ÅÆÁä∂ÊÖã„Çí„É™„Ç¢„É´„Çø„Ç§„É†„ÅßËøΩË∑°„ÄÇË≠∞Ë´ñ„ÅÆÂäõÂ≠¶„ÇíÂèØË¶ñÂåñ„Åó„ÄÅÊà¶Áï•ÁöÑ„Å™ÊÄùËÄÉ„ÇíÊîØÊè¥„Åô„Çã„ÄÇ"})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-200 hover:border-rose-300 transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(re,{size:20,className:"text-rose-500"}),e.jsx("h5",{className:"font-extrabold text-slate-800",children:"SBI „Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ"})]}),e.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:"Situation(Áä∂Ê≥Å), Behavior(Ë°åÂãï), Impact(ÂΩ±Èüø)„ÅÆ3ÊÆµÊßãÊàê„ÇíAI„Å´Âº∑Âà∂„ÄÇ‰∏ªË¶≥„ÇíÊéí„Åó„Åü„ÄåÂÜ∑Âæπ„Åã„Å§ÊúâÁõä„Å™„Ç¢„Éâ„Éê„Ç§„Çπ„Äç„ÇíÂÖ®Áô∫Ë®Ä„Å´ÂØæ„Åó„Å¶ÁîüÊàê„Åô„Çã„ÄÇ"})]})]})]}),e.jsxs("section",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 text-indigo-700",children:[e.jsx(re,{size:28,strokeWidth:2.5}),e.jsx("h4",{className:"text-2xl font-black m-0 italic uppercase tracking-tighter",children:"02. 10Á®Æ„ÅÆÊïôËÇ≤„É¢„Éº„Éâ„Å®„Éó„É≠„É≥„Éó„Éà„Éª„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[{mode:"Ë≠∞Ë´ñÂÆüË∑µ",icon:te,color:"bg-blue-600",logic:"4ÊÆµÈöé„ÅÆÈõ£ÊòìÂ∫¶Âà•StateÂà∂Âæ°"},{mode:"ÂêàÊÑèÂΩ¢Êàê",icon:je,color:"bg-green-600",logic:"ÊÑüÊÉÖÊ¥æA vs Ë´ñÁêÜÊ¥æB„ÅÆ‰∫åÂæãËÉåÂèç"},{mode:"‰∏ñÁïåË¶≥RPG",icon:q,color:"bg-teal-600",logic:"„É©„É≥„ÉÄ„É†„Ç§„Éô„É≥„Éà[EVENT]„Çø„Ç∞ÁîüÊàê"},{mode:"Ê®°ÁØÑË¶ñËÅ¥",icon:de,color:"bg-sky-600",logic:"Alice vs Bob„ÅÆ„É°„ÇøÂÆüÊ≥ÅËß£Ë™¨"},{mode:"Âº±ÁÇπÁâπË®ì",icon:W,color:"bg-red-600",logic:"ÈÅéÂéªË°åÂãï„Éá„Éº„Çø„ÅÆÁ¥ØÁ©çCrossÂàÜÊûê"},{mode:"ÂèçÈßÅ„Éâ„É™„É´",icon:Ne,color:"bg-orange-600",logic:"5Á®Æ„ÅÆË´ñÁêÜÊîªÊíÉ„Éë„Çø„Éº„É≥ÁâπË®ì"},{mode:"ÊÄùËÄÉ„Ç∏„É†",icon:Z,color:"bg-indigo-600",logic:"MECE/SWOTÁ≠â„ÅÆFrameworkÂÖ•Âá∫Âäõ"},{mode:"ÊïôÁßëÊõ∏",icon:ie,color:"bg-emerald-600",logic:"ÁêÜË´ñÂ≠¶Áøí„Å®„É©„ÉúÂÆüÈ®ì„ÅÆ„Çµ„Ç§„ÇØ„É´"},{mode:"Ë©≠ÂºÅÂ≠¶Áøí",icon:ce,color:"bg-purple-600",logic:"Logical Fallacy„ÅÆÁâπÂÆö„Å®ÂØæÂá¶Ê≥ï"},{mode:"„Éü„Éã„Ç≤„Éº„É†",icon:oe,color:"bg-pink-600",logic:"ËÑ≥„ÅÆÁû¨Áô∫Âäõ„ÇíÈçõ„Åà„Çã„Çø„Ç§„É†„Ç¢„Çø„ÉÉ„ÇØ"}].map((a,r)=>e.jsxs("div",{className:"flex flex-col p-4 bg-slate-900 rounded-3xl text-white border border-white/5 relative overflow-hidden group",children:[e.jsx(a.icon,{size:24,className:`${a.color.replace("bg-","text-")} mb-3 group-hover:scale-125 transition-transform`}),e.jsx("span",{className:"block text-[11px] font-black tracking-tight mb-1",children:a.mode}),e.jsx("span",{className:"block text-[9px] text-white/40 leading-tight",children:a.logic})]},r))})]}),e.jsxs("section",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 text-indigo-700",children:[e.jsx(Fe,{size:28,strokeWidth:2.5}),e.jsx("h4",{className:"text-2xl font-black m-0 italic uppercase tracking-tighter",children:"03. „Éá„Éº„ÇøÊ∞∏Á∂öÂåñ„ÄÅ„Çª„Ç≠„É•„É™„ÉÜ„Ç£„ÄÅUXÂÆöÊï∞"})]}),e.jsx("div",{className:"bg-slate-50 p-8 rounded-[2.5rem] border border-slate-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h5",{className:"font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(xe,{size:18,className:"text-indigo-600"})," „Çπ„Éà„É¨„Éº„Ç∏‰ªïÊßò (v4.0)"]}),e.jsxs("ul",{className:"text-xs text-slate-600 space-y-2 list-disc pl-4 leading-relaxed font-medium",children:[e.jsx("li",{children:"LocalStorage `debate_archives` „Ç≠„Éº„Å∏„ÅÆÂÆåÂÖ®‰æùÂ≠ò"}),e.jsxs("li",{children:["Â±•Ê≠¥„Éá„Éº„Çø„ÅÆËá™Âãï„Éû„Ç§„Ç∞„É¨„Éº„Ç∑„Éß„É≥ (v1„Äúv3 ",">"," v4)"]}),e.jsx("li",{children:"Ë°åÂãïÁµ±Ë®à (numerator/denominator) „Å´„Çà„ÇãÈï∑Êúü„Éó„É≠„Éï„Ç°„Ç§„É™„É≥„Ç∞"}),e.jsx("li",{children:"JSON„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„ÅÆExport/ImportÔºàÁµêÂêà„Éª‰∏äÊõ∏„Åç„É≠„Ç∏„ÉÉ„ÇØÊê≠ËºâÔºâ"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h5",{className:"font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(Te,{size:18,className:"text-indigo-600"})," „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„ÇπÂà∂Á¥Ñ"]}),e.jsxs("ul",{className:"text-xs text-slate-600 space-y-2 list-disc pl-4 leading-relaxed font-medium",children:[e.jsx("li",{children:"AIÂøúÁ≠î„ÅÆMarkdownË£ÖÈ£æÈô§Âéª (Regex cleanText)"}),e.jsx("li",{children:"ÂÖ®„É™„ÇØ„Ç®„Çπ„Éà„Å∏„ÅÆ `STRICT_OUTPUT_RULES` „Ç§„É≥„Ç∏„Çß„ÇØ„Ç∑„Éß„É≥"}),e.jsx("li",{children:"Skeleton Screen & „Éó„É≠„Ç∞„É¨„Çπ„Éê„ÉºÂêåÊúü (Complexity Factor)"}),e.jsx("li",{children:"Mobile First: „Çπ„ÇØ„É≠„Éº„É´„É≠„ÉÉ„ÇØ & ‰ªÆÊÉ≥„Ç≠„Éº„Éú„Éº„ÉâËÄÉÊÖÆ"})]})]})]})})]}),e.jsxs("section",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 text-indigo-700",children:[e.jsx(ke,{size:28,strokeWidth:2.5}),e.jsx("h4",{className:"text-2xl font-black m-0 italic uppercase tracking-tighter",children:"04. „Éó„É≠„ÉÄ„ÇØ„Ç∑„Éß„É≥„Éª„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£ (v3.4.4)"})]}),e.jsx("div",{className:"bg-gradient-to-br from-slate-900 to-indigo-900 p-8 rounded-[2.5rem] border border-slate-700 text-white",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h5",{className:"font-bold text-indigo-200 flex items-center gap-2",children:[e.jsx(Et,{size:18,className:"text-blue-400"})," Vercel Serverless Proxy"]}),e.jsxs("ul",{className:"text-xs text-slate-300 space-y-2 list-disc pl-4 leading-relaxed font-medium",children:[e.jsx("li",{children:"5„Å§„ÅÆAPI Routes: /generate, /generate-stream, /chat, /chat-stream, /health"}),e.jsx("li",{children:"‰ºöË©±Â±•Ê≠¥„ÅÆËá™ÂãïËìÑÁ©ç„É≠„Ç∏„ÉÉ„ÇØÔºà„Éá„É¢„É¢„Éº„ÉâÂØæÂøúÔºâ"}),e.jsx("li",{children:"API„Ç≠„Éº„ÅÆÂÆåÂÖ®Èö†ËîΩÔºàÁí∞Â¢ÉÂ§âÊï∞ÁµåÁî±Ôºâ"}),e.jsx("li",{children:"Áµ±‰∏Ä„É¨„Çπ„Éù„É≥„ÇπÂΩ¢ÂºèÔºàresponse.text Ëá™ÂãïÊäΩÂá∫Ôºâ"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h5",{className:"font-bold text-indigo-200 flex items-center gap-2",children:[e.jsx(xe,{size:18,className:"text-emerald-400"})," „Çª„Ç≠„É•„É™„ÉÜ„Ç£‰∏âÂ±§Èò≤Âæ°"]}),e.jsxs("ul",{className:"text-xs text-slate-300 space-y-2 list-disc pl-4 leading-relaxed font-medium",children:[e.jsx("li",{children:"„É¨„Éº„ÉàÂà∂Èôê: 100„É™„ÇØ„Ç®„Çπ„Éà/ÂàÜ/IPÔºà„É°„É¢„É™„Éô„Éº„ÇπÔºâ"}),e.jsx("li",{children:"CORS: „Éâ„É°„Ç§„É≥„Éõ„ÉØ„Ç§„Éà„É™„Çπ„ÉàÊñπÂºè"}),e.jsx("li",{children:"„Éê„É™„Éá„Éº„Ç∑„Éß„É≥: „É¢„Éá„É´Âêç„Éª„Ç≥„É≥„ÉÜ„É≥„ÉÑÈï∑„ÉªÈÖçÂàóÂΩ¢Âºè„ÉÅ„Çß„ÉÉ„ÇØ"}),e.jsx("li",{children:"ÂÖ®18Ê©üËÉΩ„ÅÆAPIÂëº„Å≥Âá∫„ÅóÂΩ¢Âºè„ÇíÁµ±‰∏ÄÔºàcontentsÈÖçÂàóÂåñÔºâ"})]})]})]})})]}),e.jsxs("section",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 text-emerald-700",children:[e.jsx(ne,{size:28,strokeWidth:2.5}),e.jsx("h4",{className:"text-2xl font-black m-0 italic uppercase tracking-tighter",children:"05. v3.4.4 ‰øÆÊ≠£Ê∏à„ÅøÊ©üËÉΩ"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{label:"„Éá„É¢„É¢„Éº„Éâ",desc:"Alice vs Bob„ÅÆ‰∫§‰∫íÁô∫Ë®Ä„ÅåÊ≠£Â∏∏Âãï‰Ωú"},{label:"‰ªÆÊÉ≥„Éõ„ÉØ„Ç§„Éà„Éú„Éº„Éâ",desc:"„Éï„Ç°„Ç∑„É™„ÉÜ„Éº„Ç∑„Éß„É≥„É¢„Éº„Éâ„ÅßLiveË°®Á§∫"},{label:"ÂâçÊèêÁ¢∫Ë™ç",desc:"„Éà„Éî„ÉÉ„ÇØÈñãÂßãÊôÇ„ÅÆÂâçÊèêÊèêÊ°à„ÅåÂãï‰Ωú"},{label:"„Ç¢„Éâ„Éê„Ç§„ÇπÂàÜÊûê",desc:"„É™„Ç¢„É´„Çø„Ç§„É†Êà¶Ë°ìÊèêÊ°à„ÅåÊ≠£Â∏∏Âåñ"},{label:"Á´ãË®ºË≤¨‰ªªÂàÜÊûê",desc:"„Ç≠„É£„ÉÉ„Ç∑„É•Ê©üËÉΩ‰ªò„Åç„Éà„É©„ÉÉ„Ç´„Éº"},{label:"Êà¶Áï•ÂàÜÊûê",desc:"„Éï„Çß„Éº„Ç∫„Åî„Å®„ÅÆÊà¶Áï•ÊèêÁ§∫„ÅåÂãï‰Ωú"},{label:"„Éü„Éã„Ç≤„Éº„É†",desc:"7Á®Æ„ÅÆÊÄùËÄÉ„Ç≤„Éº„É†„ÅåÂÖ®„Å¶Ëµ∑Âãï"},{label:"„ÇØ„Ç§„Ç∫Ê©üËÉΩ",desc:"Ë™§Ë¨¨Ê§úÂá∫„ÇØ„Ç§„Ç∫„ÅåÊ≠£Â∏∏Âãï‰Ωú"},{label:"ÊïôÁßëÊõ∏„É¢„Éº„Éâ",desc:"ÁêÜË´ñÂ≠¶Áøí„Å®„É©„Éú„ÅåÈÄ£Âãï"},{label:"ÊÄùËÄÉ„Ç∏„É†",desc:"„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØË®ìÁ∑¥„ÅåÂãï‰Ωú"},{label:"ÂêàÊÑèÂΩ¢ÊàêÊúÄÈÅ©Âåñ",desc:"„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØÁîüÊàêÈÄüÂ∫¶„ÇíÊîπÂñÑ"},{label:"Ë©≥Á¥∞„É¨„Éì„É•„Éº",desc:"SBI„É¢„Éá„É´ÂàÜÊûê„ÅåÂÖ®Ê©üËÉΩ„ÅßÂãï‰Ωú"}].map((a,r)=>e.jsxs("div",{className:"bg-emerald-50 p-4 rounded-2xl border border-emerald-200 hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ne,{size:16,className:"text-emerald-600"}),e.jsx("span",{className:"font-bold text-sm text-slate-800",children:a.label})]}),e.jsx("p",{className:"text-[10px] text-slate-600 leading-relaxed",children:a.desc})]},r))})]}),e.jsxs("section",{className:"bg-gradient-to-br from-indigo-900 to-slate-900 p-10 rounded-[3rem] text-white shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-500/10 rounded-full blur-[120px] -mr-32 -mt-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-[80px] -ml-32 -mb-32"}),e.jsxs("h4",{className:"text-xl font-black mb-6 flex items-center gap-3 border-b border-white/10 pb-6 uppercase tracking-widest italic",children:[e.jsx(re,{className:"text-yellow-400 fill-yellow-400",size:24}),"Architect's Directive - v3.4.4 Production"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm opacity-90 leading-relaxed m-0 font-bold italic text-indigo-100",children:"Êú¨„Ç¢„Éó„É™„ÇíÂÜçÁèæ„Åô„Çã„Å´„ÅÇ„Åü„Çä„ÄÅÊúÄ„ÇÇÈáçË¶Å„Å™„ÅÆ„ÅØ„ÄåAI„Å®„ÅÆ‰ºöË©±„Äç„Åß„ÅØ„Å™„Åè„Äå„É¶„Éº„Ç∂„ÉºËá™Ë∫´„ÅÆË´ñÁêÜÁöÑ„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Äç„Åß„ÅÇ„Çã„ÄÇ UI„ÅØÂ∏∏„Å´„É¶„Éº„Ç∂„Éº„ÅÆÁô∫Ë®Ä„ÇíËß£‰Ωì„Åó„ÄÅ‰∏çË∂≥„Åó„Å¶„ÅÑ„ÇãË¶ÅÁ¥†ÔºàÁâπ„Å´Warrant„Å®EvidenceÔºâ„Çí„ÄåÁóõ„Åø„Äç„Å®„Åó„Å¶„Åß„ÅØ„Å™„Åè„ÄåÊàêÈï∑„ÅÆ‰ΩôÁôΩ„Äç„Å®„Åó„Å¶ÊèêÁ§∫„Åõ„Çà„ÄÇ „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅÆ„É©„Ç∞„ÄÅ„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ„ÅÆ„Éà„Éº„É≥„ÄÅÂÖ®„Å¶„ÅØ„ÄåÁúüÁêÜ„Å∏„ÅÆÊé¢Ê±Ç„Äç„Å®„ÅÑ„ÅÜÁü•ÁöÑÊ†ºÈóòÊäÄ„ÅÆËá®Â†¥ÊÑü„ÇíÊºîÂá∫„Åô„Çã„Åü„ÇÅ„Å´„ÅÇ„Çã„ÄÇ"}),e.jsx("p",{className:"text-sm opacity-90 leading-relaxed m-0 font-bold italic text-emerald-200 border-t border-white/10 pt-4",children:"v3.4.4„Åß„ÅØ„ÄÅÂÖ®Ê©üËÉΩ„ÅåVercel ServerlessÁí∞Â¢É„ÅßÂãï‰Ωú„Åô„ÇãÊú¨Áï™Áí∞Â¢É‰ªïÊßò„Å´Âà∞ÈÅî„Åó„Åü„ÄÇ „Éó„É≠„Ç≠„Ç∑„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£„Å´„Çà„ÇãAPI„Ç≠„Éº„ÅÆÂÆåÂÖ®Èö†ËîΩ„ÄÅ„Çª„Ç≠„É•„É™„ÉÜ„Ç£‰∏âÂ±§Èò≤Âæ°„ÄÅ‰ºöË©±Â±•Ê≠¥„ÅÆËá™ÂãïËìÑÁ©ç„É≠„Ç∏„ÉÉ„ÇØ„ÄÅ„Åù„Åó„Å¶ÂÖ®18Ê©üËÉΩ„ÅÆÁµ±‰∏ÄAPIÂΩ¢ÂºèÂåñ„Å´„Çà„Çä„ÄÅ DebateMaster AI„ÅØ„ÄåÁ†îÁ©∂„Éó„É≠„Éà„Çø„Ç§„Éó„Äç„Åã„Çâ„Äå„Éó„É≠„ÉÄ„ÇØ„Ç∑„Éß„É≥„É¨„Éá„Ç£„Å™ÊïôËÇ≤„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†„Äç„Å∏„Å®ÈÄ≤Âåñ„Åó„Åü„ÄÇ „Åì„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà„ÅØ„ÄÅÂçò„Å™„Çã„Ç≥„Éº„Éâ„ÅÆÊåáÈáù„Åß„ÅØ„Å™„Åè„ÄÅDebateMaster AI„Å®„ÅÑ„ÅÜ„ÄåÁü•ËÉΩ„ÅÆÈè°„Äç„ÇíÊßãÁØâ„Åô„Çã„Åü„ÇÅ„ÅÆÂÆåÂÖ®Ë®≠Ë®àÂõ≥„Åß„ÅÇ„Çã„ÄÇ"})]})]})]})]})}):null,es=({onStart:t,onTokenUpdate:s,tokenUsage:a,archives:r,homeworkTasks:l,onCompleteHomework:m,onDeleteHomework:o,onShowHistory:c})=>{const{activeMode:n,setActiveMode:p,topic:i,setTopic:h,debateType:g,setDebateType:x,difficulty:j,setDifficulty:v,suggestedTopics:k,aStance:f,setAStance:T,storyScenario:A,setStoryScenario:M,isGeneratingTopic:z,isRefreshingSuggestions:O,isAnalyzingWeakness:_,isGeneratingScenario:R,shuffleTopics:L,handleAiSuggestions:P,handleGenerateScenario:B,handleLuckyTopic:H,handleStartDebate:U,handleStartWithPreset:C,handleStartTraining:G}=$t(t,s,r),[F,E]=u.useState(!1),[y,I]=u.useState(!1),[Q,me]=u.useState(!1),X=l.filter(b=>b.status==="pending");return e.jsxs("div",{className:"h-full w-full overflow-y-auto scrollbar-hide",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-start pt-12 sm:pt-20 p-6 max-w-4xl mx-auto min-h-full",children:[e.jsx(Ht,{tokenUsage:a,archivesCount:r.length,onShowHistory:c,onShowSystemInfo:()=>E(!0),onShowSpecification:()=>I(!0)}),e.jsx(Ut,{activeMode:n}),X.length>0&&e.jsx("div",{className:"w-full mb-8 animate-fade-in-up",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-600 rounded-2xl p-1 shadow-lg",children:e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"bg-indigo-50 px-4 py-3 flex justify-between items-center cursor-pointer",onClick:()=>me(!Q),children:[e.jsxs("div",{className:"flex items-center gap-2 font-bold text-indigo-800",children:[e.jsx(Dt,{size:20}),e.jsx("span",{children:"ÁèæÂú®„ÅÆÂÆøÈ°å (Active Homework)"}),e.jsx("span",{className:"bg-red-500 text-white text-[10px] px-2 py-0.5 rounded-full",children:X.length})]}),e.jsx("span",{className:"text-xs font-bold text-indigo-500",children:Q?"Èñâ„Åò„Çã":"Ë°®Á§∫„Åô„Çã"})]}),Q&&e.jsx("div",{className:"p-4 grid gap-3 max-h-64 overflow-y-auto",children:X.map(b=>e.jsxs("div",{className:"border border-slate-200 rounded-xl p-3 hover:shadow-sm transition-shadow",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded border ${b.difficulty==="hard"?"bg-red-50 text-red-600 border-red-100":b.difficulty==="normal"?"bg-blue-50 text-blue-600 border-blue-100":"bg-green-50 text-green-600 border-green-100"}`,children:b.difficulty.toUpperCase()}),e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:b.title})]}),e.jsx("p",{className:"text-xs text-slate-600",children:b.description})]})}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t border-slate-50",children:[e.jsx("button",{onClick:()=>o(b.id),className:"p-1.5 text-slate-400 hover:bg-slate-100 rounded-lg transition-colors",title:"ÂâäÈô§",children:e.jsx(Mt,{size:14})}),e.jsxs("button",{onClick:()=>{const N=prompt("ÂÆå‰∫Ü„ÅÆ„É°„É¢„ÇíÊÆã„Åó„Åæ„Åô„ÅãÔºüÔºà‰ªªÊÑèÔºâ");m(b.id,N||"")},className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-50 text-emerald-700 text-xs font-bold rounded-lg border border-emerald-200 hover:bg-emerald-100 transition-colors",children:[e.jsx(ne,{size:14}),"ÂÆå‰∫Ü„Å´„Åô„Çã"]})]})]},b.id))})]})})}),e.jsx(Yt,{activeMode:n,onSelectMode:p}),(n===d.DEBATE||n===d.FACILITATION||n===d.STORY||n===d.DEMO)&&e.jsxs("form",{onSubmit:U,className:"w-full bg-white p-8 rounded-2xl shadow-xl border border-slate-100 space-y-8 animate-fade-in-up delay-200 mb-8",children:[e.jsx(Xt,{activeMode:n,aStance:f,setAStance:T,storyScenario:A,setStoryScenario:M,isGeneratingScenario:R,topic:i,onGenerateScenario:B}),n===d.DEBATE&&e.jsxs(e.Fragment,{children:[e.jsx(Qt,{debateType:g,setDebateType:x}),e.jsx(Kt,{difficulty:j,setDifficulty:v})]}),e.jsx(Wt,{topic:i,setTopic:h,activeMode:n,debateType:g,suggestedTopics:k,isGeneratingRandom:z,isRefreshingSuggestions:O,onGenerateRandom:H,onRefreshSuggestions:P,onShuffleSuggestions:L}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx(J,{type:"submit",className:`h-12 text-lg px-12 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 active:translate-y-0 min-w-[200px] ${n===d.STORY?"bg-gradient-to-r from-teal-600 to-teal-700":n===d.DEMO?"bg-gradient-to-r from-sky-600 to-sky-700":""}`,disabled:!i.trim()||n===d.STORY&&!A,children:n===d.FACILITATION?"ÂêàÊÑèÂΩ¢Êàê„ÇíÈñãÂßã„Åô„Çã":n===d.STORY?"„Åì„ÅÆ„Ç∑„Éä„É™„Ç™„ÅßÈñãÂßã":n===d.DEMO?"Ê®°ÁØÑË¶ñËÅ¥„ÇíÈñãÂßã":"Ë≠∞Ë´ñ„ÇíÈñãÂßã„Åô„Çã"})})]}),n===d.TEXTBOOK&&e.jsxs("div",{className:"w-full bg-white p-6 sm:p-8 rounded-2xl shadow-xl border border-slate-100 animate-fade-in-up delay-200 mb-8",children:[e.jsxs("div",{className:"mb-6 flex items-start gap-4 p-4 bg-emerald-50 rounded-xl border border-emerald-100 text-emerald-800",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-emerald-600",children:e.jsx(ie,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"Ë≠∞Ë´ñÊïôÁßëÊõ∏„É¢„Éº„Éâ"}),e.jsxs("p",{className:"text-sm opacity-90 leading-relaxed",children:["Ë≠∞Ë´ñ„ÅÆÁêÜË´ñ„Å®Âûã„ÇíÂ≠¶„Å∂„É¨„ÇØ„ÉÅ„É£„Éº„É¢„Éº„Éâ„Åß„Åô„ÄÇ",e.jsx("br",{}),"ÂêÑÁ´†„ÅßÁêÜË´ñ„ÇíÂ≠¶„Çì„Å†Âæå„ÄÅAI„Å´„Çà„ÇãÁêÜËß£Â∫¶„ÉÅ„Çß„ÉÉ„ÇØ„ÇØ„Ç§„Ç∫„ÇíÂèó„Åë„Çâ„Çå„Åæ„Åô„ÄÇ"]})]})]}),e.jsx(J,{onClick:()=>C({topic:"Ë≠∞Ë´ñÊïôÁßëÊõ∏",mode:d.TEXTBOOK}),fullWidth:!0,className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg h-12 text-lg",children:"Â≠¶Áøí„ÇíÈñãÂßã„Åô„Çã"})]}),n===d.MINIGAME&&e.jsxs("div",{className:"w-full bg-white p-6 sm:p-8 rounded-2xl shadow-xl border border-slate-100 animate-fade-in-up delay-200 mb-8",children:[e.jsxs("div",{className:"mb-6 flex items-start gap-4 p-4 bg-pink-50 rounded-xl border border-pink-100 text-pink-800",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-pink-600",children:e.jsx(oe,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"„Éü„Éã„Ç≤„Éº„É† (Training Mini-games)"}),e.jsx("p",{className:"text-sm opacity-90 leading-relaxed",children:"30„Äú90Áßí„Åß„Åß„Åç„Çã„ÄåË≠∞Ë´ñÁ≠ã„Éà„É¨„Äç„ÄÇ„Ç≤„Éº„É†ÊÑüË¶ö„ÅßÁû¨Áô∫Âäõ„ÇíÈçõ„Åà„Åæ„Åó„Çá„ÅÜ„ÄÇ"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{type:$.EVIDENCE_FILL,title:"EvidenceÁ©¥Âüã„ÇÅ",desc:"‰∏çÂÆåÂÖ®„Å™‰∏ªÂºµ„Å´ÂØæ„Åó„ÄÅË™¨ÂæóÂäõ„ÅÆ„ÅÇ„Çã„ÄåÊ†πÊã†„Äç„ÇíÁû¨ÊôÇ„Å´Ë£úÂÆå„Åô„Çã„Éà„É¨„Éº„Éã„É≥„Ç∞„ÄÇ",icon:Me},{type:$.FALLACY_QUIZ,title:"Ë™§Ë¨¨ÔºàFallacyÔºâ„ÇØ„Ç§„Ç∫",desc:"„Çπ„Éà„É≠„Éº„Éû„É≥„ÇÑË´ñÁÇπ„Åö„Çâ„Åó„Å™„Å©„ÄÅË≠∞Ë´ñ„Å´ÊΩú„ÇÄ„ÄåË´ñÁêÜ„ÅÆË©êË°ì„Äç„ÇíË¶ãÊäú„Åè4Êäû„ÇØ„Ç§„Ç∫„ÄÇ",icon:be},{type:$.ISSUE_PUZZLE,title:"Ë´ñÁÇπÊï¥ÁêÜ„Éë„Ç∫„É´",desc:"„Éê„É©„Éê„É©„Å´„Å™„Å£„Åü„Äå‰∏ªÂºµ„ÉªÊ†πÊã†„ÉªË´ñÊã†„Äç„ÅÆ„Éë„Éº„ÉÑ„Çí„ÄÅÊ≠£„Åó„ÅÑË´ñÁêÜÈ†ÜÂ∫è„Å´‰∏¶„ÅπÊõø„Åà„Çã„ÄÇ",icon:De},{type:$.COMBO_REBUTTAL,title:"ÂèçË´ñ„Ç≥„É≥„Éú„Ç¢„Çø„ÉÉ„ÇØ",desc:"Ê¨°„ÄÖ„Å®Êäï„Åí„Åã„Åë„Çâ„Çå„Çã‰∏ªÂºµ„Å´ÂØæ„Åó„ÄÅÂà∂ÈôêÊôÇÈñìÂÜÖ„Å´Âç≥Â∫ß„Å´ÂèçË´ñ„ÇíÊâì„Å°Ëøî„ÅôÂçÉÊú¨„Éé„ÉÉ„ÇØ„ÄÇ",icon:te},{type:$.FERMI_ESTIMATION,title:"„Éï„Çß„É´„ÉüÊé®ÂÆö",desc:"„ÄåÊó•Êú¨„Å´„Éî„Ç¢„ÉéË™øÂæãÂ∏´„ÅØ‰Ωï‰∫∫Ôºü„ÄçÁ≠â„ÅÆÂïè„ÅÑ„Å´„ÄÅË´ñÁêÜÁöÑ‰ªÆË™¨„ÇíÁ´ã„Å¶„Å¶Ê¶ÇÁÆó„Åô„Çã„ÄÇ",icon:Ot},{type:$.LATERAL_THINKING,title:"Ê∞¥Âπ≥ÊÄùËÄÉ„Éë„Ç∫„É´",desc:"„Äå„Ç¶„Éü„Ç¨„É°„ÅÆ„Çπ„Éº„Éó„Äç„ÅÆ„Çà„ÅÜ„Å™‰∏çÂèØËß£„Å™Áä∂Ê≥Å„Å´ÂØæ„Åó„ÄÅÂ§öËßíÁöÑ„Å™Ë¶ñÁÇπ„ÅßÁúüÁõ∏„ÇíÊé®Ë´ñ„Åô„Çã„ÄÇ",icon:Ge},{type:$.ACTIVE_INOCULATION,title:"ËÉΩÂãïÁöÑÊé•Á®ÆÊºîÁøí",desc:"ÊåáÂÆö„Åï„Çå„ÅüË©≠ÂºÅ„ÇíÊÑèÂõ≥ÁöÑ„Å´‰Ωø„Å£„Å¶Ë™¨ÂæóÊñá„Çí‰ΩúÊàê„ÄÇË©≠ÂºÅ„ÅÆÊßãÈÄ†„ÇíÊ∑±„ÅèÁêÜËß£„Åó„ÄÅË¶ãÊäú„ÅèÂäõ„ÇíÈ§ä„ÅÜ„ÄÇ",icon:be}].map(b=>e.jsxs("button",{onClick:()=>C({topic:b.title,mode:d.MINIGAME,miniGameType:b.type}),className:"p-5 rounded-xl border border-slate-200 hover:border-pink-300 hover:bg-pink-50 transition-all text-left flex items-start gap-4 group bg-white shadow-sm hover:shadow-md h-full",children:[e.jsx("div",{className:"bg-pink-100 p-3 rounded-xl text-pink-600 group-hover:bg-pink-200 mt-1 shrink-0",children:e.jsx(b.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-bold text-slate-800 text-lg mb-2 group-hover:text-pink-700 transition-colors",children:b.title}),e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:b.desc})]})]},b.type))})]}),n===d.THINKING_GYM&&e.jsxs("div",{className:"w-full bg-white p-6 sm:p-8 rounded-2xl shadow-xl border border-slate-100 animate-fade-in-up delay-200 mb-8",children:[e.jsxs("div",{className:"mb-6 flex items-start gap-4 p-4 bg-indigo-50 rounded-xl border border-indigo-100 text-indigo-800",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-indigo-600",children:e.jsx(Z,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"ÊÄùËÄÉ„Ç∏„É† (Thinking Gym)"}),e.jsx("p",{className:"text-sm opacity-90 leading-relaxed",children:"1ÂàÜ„Äú3ÂàÜ„Åß„Åß„Åç„Çã„ÄåÊÄùËÄÉ„ÅÆÁ≠ã„Éà„É¨„Äç„ÄÇÁâπÂÆö„ÅÆ„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ„Çí‰Ωø„Å£„Å¶„ÄÅAI„ÅåÂá∫„Åô„É©„É≥„ÉÄ„É†Ë™≤È°å„ÇíÂàÜÊûê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Vt.map((b,N)=>e.jsxs("button",{onClick:()=>C({topic:b.name,mode:d.THINKING_GYM,thinkingFramework:b.id}),className:"flex flex-col text-left p-4 rounded-xl border border-slate-200 hover:border-indigo-300 hover:bg-gradient-to-br hover:from-indigo-50 hover:to-indigo-100/50 hover:shadow-md transition-all group active:scale-[0.98]",children:[e.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[e.jsx("div",{className:"bg-slate-100 p-2 rounded-lg text-slate-400 group-hover:bg-indigo-200 group-hover:text-indigo-700 transition-colors",children:e.jsx(b.icon,{size:20})}),e.jsx("span",{className:"text-[10px] font-bold bg-indigo-50 text-indigo-600 px-2 py-1 rounded-full border border-indigo-100 group-hover:border-indigo-200",children:"GYM"})]}),e.jsx("span",{className:"font-bold text-slate-800 group-hover:text-indigo-800 block mb-1",children:b.name}),e.jsx("p",{className:"text-xs text-slate-600 leading-tight",children:b.desc})]},N))})]}),n===d.STUDY&&e.jsxs("div",{className:"w-full bg-white p-6 sm:p-8 rounded-2xl shadow-xl border border-slate-100 animate-fade-in-up delay-200 mb-8",children:[e.jsxs("div",{className:"mb-6 flex items-start gap-4 p-4 bg-purple-50 rounded-xl border border-purple-100 text-purple-800",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-purple-600",children:e.jsx(ce,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"Ë©≠ÂºÅÔºàLogical FallacyÔºâ„ÇíÂ≠¶„Å∂"}),e.jsx("p",{className:"text-sm opacity-90 leading-relaxed",children:"Áü•„Çä„Åü„ÅÑÈ†ÖÁõÆ„ÇíÈÅ∏„Å∂„Å®„ÄÅAI„ÅåÂÆ∂Â∫≠ÊïôÂ∏´„Å®„Å™„Å£„Å¶„ÄåÂÆöÁæ©„Äç„ÄåÂÖ∑‰Ωì‰æã„Äç„ÄåÂØæÂá¶Ê≥ï„Äç„ÇíËß£Ë™¨„Åó„ÄÅÊúÄÂæå„Å´„É≠„Éº„É´„Éó„É¨„Ç§„ÅßÂÆüË∑µÁ∑¥Áøí„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Bt.map((b,N)=>e.jsxs("button",{onClick:()=>C({topic:b.name,mode:d.STUDY}),className:"flex flex-col text-left p-4 rounded-xl border border-slate-200 hover:border-purple-300 hover:bg-gradient-to-br hover:from-purple-50 hover:to-purple-100/50 hover:shadow-md transition-all group active:scale-[0.98]",children:[e.jsxs("div",{className:"flex items-center justify-between w-full mb-1",children:[e.jsx("span",{className:"font-bold text-slate-800 group-hover:text-purple-700",children:b.name}),e.jsx(Z,{size:16,className:"text-slate-300 group-hover:text-purple-400"})]}),e.jsx("span",{className:"text-xs text-slate-500 font-mono mb-2",children:b.eng}),e.jsx("p",{className:"text-xs text-slate-600 leading-tight",children:b.desc})]},N))})]}),n===d.DRILL&&e.jsxs("div",{className:"w-full bg-white p-6 sm:p-8 rounded-2xl shadow-xl border border-slate-100 animate-fade-in-up delay-200 mb-8",children:[e.jsxs("div",{className:"mb-6 flex items-start gap-4 p-4 bg-orange-50 rounded-xl border border-orange-100 text-orange-800",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-orange-600",children:e.jsx(Rt,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"ÂèçÈßÅÔºà„É™„Éê„ÉÉ„Çø„É´ÔºâÁâπÂåñ„Éâ„É™„É´"}),e.jsx("p",{className:"text-sm opacity-90 leading-relaxed",children:"Áõ∏Êâã„ÅÆ‰∏ªÂºµ„ÇíÂ¥©„Åô„Åü„ÇÅ„ÅÆÁâπÂÆö„ÅÆ„ÄåÂûã„Äç„ÇíÈõÜ‰∏≠ÁöÑ„Å´„Éà„É¨„Éº„Éã„É≥„Ç∞„Åó„Åæ„Åô„ÄÇ AI„Åå„É©„É≥„ÉÄ„É†„Å™‰∏ªÂºµ„ÇíË°å„ÅÑ„ÄÅ„ÅÇ„Å™„Åü„ÅåÊåáÂÆö„Åï„Çå„Åü„ÉÜ„ÇØ„Éã„ÉÉ„ÇØ„ÅßÂèçË´ñ„Åó„Åæ„Åô„ÄÇ"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Gt.map((b,N)=>e.jsxs("button",{onClick:()=>C({topic:b.name,mode:d.DRILL,difficulty:S.HARD}),className:"flex items-start gap-3 text-left p-4 rounded-xl border border-slate-200 hover:border-orange-300 hover:bg-gradient-to-br hover:from-orange-50 hover:to-orange-100/50 hover:shadow-md transition-all group active:scale-[0.98]",children:[e.jsx("div",{className:"bg-slate-100 p-2 rounded-lg text-slate-400 group-hover:bg-orange-200 group-hover:text-orange-700 transition-colors",children:e.jsx(b.icon,{size:20})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-slate-800 group-hover:text-orange-800 block mb-1",children:b.name}),e.jsx("p",{className:"text-xs text-slate-600 leading-tight",children:b.desc})]})]},N))})]}),n===d.TRAINING&&e.jsxs("div",{className:"w-full bg-white p-6 sm:p-8 rounded-2xl shadow-xl border border-slate-100 animate-fade-in-up delay-200 mb-8",children:[e.jsxs("div",{className:"mb-6 flex items-start gap-4 p-4 bg-red-50 rounded-xl border border-red-100 text-red-800",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-red-600",children:e.jsx(W,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"Âº±ÁÇπÂÖãÊúç„Éà„É¨„Éº„Éã„É≥„Ç∞"}),e.jsxs("p",{className:"text-sm opacity-90 leading-relaxed",children:["„ÅÇ„Å™„Åü„ÅÆÈÅéÂéª„ÅÆË≠∞Ë´ñ„Éá„Éº„ÇøÔºà",r.length,"‰ª∂Ôºâ„ÇíÂàÜÊûê„Åó„ÄÅÈô•„Çä„ÇÑ„Åô„ÅÑË´ñÁêÜÁöÑË™§„Çä„ÇÑÂº±ÁÇπ„ÇíÁâπÂÆö„Åó„Åæ„Åô„ÄÇ „Åù„ÅÆÂæå„ÄÅAI„Ç≥„Éº„ÉÅ„Åå„ÅÇ„Åà„Å¶„Åù„ÅÆÂº±ÁÇπ„ÇíÊîª„ÇÅ„ÇãÂÆüË∑µÂΩ¢Âºè„ÅÆ„Éà„É¨„Éº„Éã„É≥„Ç∞„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ"]})]})]}),r.length<1?e.jsxs("div",{className:"text-center py-10 text-slate-500 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:[e.jsx(W,{size:32,className:"mx-auto mb-2 text-slate-400"}),e.jsx("p",{className:"font-bold",children:"„Éá„Éº„Çø„ÅåË∂≥„Çä„Åæ„Åõ„Çì"}),e.jsxs("p",{className:"text-sm mt-1",children:["„Éà„É¨„Éº„Éã„É≥„Ç∞„ÇíË°å„ÅÜ„Å´„ÅØ„ÄÅ„Åæ„Åö„ÄåË≠∞Ë´ñÂÆüË∑µ„É¢„Éº„Éâ„Äç„Åß",e.jsx("br",{}),"1Âõû‰ª•‰∏ä„ÅÆË≠∞Ë´ñÂÆå‰∫Ü„Éá„Éº„Çø„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ"]}),e.jsx(J,{onClick:()=>p(d.DEBATE),variant:"secondary",size:"sm",className:"mt-4",children:"Ë≠∞Ë´ñÂÆüË∑µ„É¢„Éº„Éâ„Å∏"})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm font-bold text-slate-700 mb-2",children:"ËìÑÁ©ç„Åï„Çå„Åü„Éá„Éº„Çø"}),e.jsxs("div",{className:"flex justify-center gap-2 flex-wrap",children:[r.slice(-5).map((b,N)=>e.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-500 text-xs rounded border border-slate-200",children:b.topic.length>10?b.topic.substring(0,10)+"...":b.topic},N)),r.length>5&&e.jsxs("span",{className:"text-xs text-slate-400 self-center",children:["...‰ªñ",r.length-5,"‰ª∂"]})]})]}),e.jsx(J,{onClick:G,fullWidth:!0,variant:"danger",className:"h-12 text-lg shadow-lg hover:shadow-xl",disabled:_,children:_?e.jsxs(e.Fragment,{children:[e.jsx(ee,{size:20,className:"animate-spin"}),"Âº±ÁÇπ„ÇíÂàÜÊûê‰∏≠..."]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{size:20,className:"mr-2"}),"Âº±ÁÇπÂàÜÊûêÔºÜ„Éà„É¨„Éº„Éã„É≥„Ç∞ÈñãÂßã"]})})]})]})]}),e.jsx(qt,{isOpen:F,onClose:()=>E(!1)}),e.jsx(Zt,{isOpen:y,onClose:()=>I(!1)})]})},pe=[{label:"Ë≠∞Ë´ñ„É≠„Ç∞„ÅÆËß£Êûê",threshold:0},{label:"Ë´ñÁêÜÊßãÈÄ†„ÅÆÊäΩÂá∫",threshold:25},{label:"„Çπ„Ç≥„Ç¢ÁÆóÂá∫„ÉªË©ï‰æ°",threshold:50},{label:"„É¨„Éù„Éº„ÉàÁîüÊàê„ÉªÊï¥ÂΩ¢",threshold:80}],ts=({isVisible:t,progress:s,estimatedSeconds:a,elapsedSeconds:r,currentTip:l})=>t?e.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-fade-in transition-all duration-500",children:e.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl flex flex-col items-center max-w-sm w-full border border-slate-200 animate-pop-in relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 animate-pulse"}),e.jsxs("div",{className:"relative mb-4 mt-2",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-100 rounded-full animate-ping opacity-20 duration-1000"}),e.jsx("div",{className:"bg-gradient-to-br from-white to-blue-50 p-4 rounded-full shadow-md border border-blue-100 relative z-10",children:e.jsx(Lt,{size:32,className:"text-blue-600 animate-pulse"})})]}),e.jsx("h3",{className:"font-bold text-slate-800 text-xl mb-1",children:"AIÂàÜÊûê„ÇíÂÆüË°å‰∏≠"}),e.jsx("p",{className:"text-xs text-slate-400 mb-6 font-medium",children:"Gemini 2.5 Flash Model"}),e.jsxs("div",{className:"w-full space-y-2 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold text-slate-600 px-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[Math.floor(s),"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 h-2.5 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full transition-all duration-300 ease-out shadow-sm relative overflow-hidden",style:{width:`${s}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite] transform -skew-x-12"})})})]}),e.jsx("div",{className:"w-full space-y-3 mb-6",children:pe.map((m,o)=>{var p,i;const c=s>=m.threshold&&s<(((p=pe[o+1])==null?void 0:p.threshold)||100),n=s>=(((i=pe[o+1])==null?void 0:i.threshold)||100);return e.jsxs("div",{className:`flex items-center gap-3 transition-all duration-300 ${c?"scale-105 opacity-100":n?"opacity-100 grayscale-0":"opacity-40 grayscale"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center border-2 shrink-0 transition-colors ${n?"bg-green-500 border-green-500 text-white":c?"border-blue-500 text-blue-500 animate-pulse":"border-slate-300 text-slate-300 bg-slate-50"}`,children:n?e.jsx(ze,{size:12,strokeWidth:3}):c?e.jsx(ee,{size:12,className:"animate-spin"}):e.jsx("span",{className:"text-[10px]",children:o+1})}),e.jsx("span",{className:`text-xs font-bold ${n?"text-green-700":c?"text-blue-700":"text-slate-500"}`,children:m.label})]},o)})}),e.jsxs("div",{className:"w-full bg-slate-50 rounded-xl p-3 border border-slate-100 flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[s<95?e.jsx(Pt,{size:14,className:"animate-pulse"}):e.jsx(ne,{size:14,className:"text-green-500"}),e.jsx("span",{children:s<95?"ÂÆå‰∫ÜË¶ãËæº„Åø:":"„Åæ„ÇÇ„Å™„ÅèÂÆå‰∫Ü"})]}),e.jsx("div",{className:"text-xs font-mono font-medium text-slate-700",children:s<95?e.jsxs("span",{children:["„ÅÇ„Å® ",Math.max(0,Math.ceil(a-r))," Áßí"]}):e.jsx("span",{className:"text-green-600 animate-pulse",children:"‰ªï‰∏ä„Åí‰∏≠..."})})]}),e.jsxs("div",{className:"w-full border-t border-slate-100 pt-4 text-center",children:[e.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider mb-2 flex items-center justify-center gap-1",children:[e.jsx(Ge,{size:12,className:"text-yellow-500"})," Debate Tips"]}),e.jsx("p",{className:"text-xs text-slate-600 font-medium italic animate-fade-in leading-relaxed",children:l})]})]})}):null,Ve=t=>{const s=t.feedback||{};return{...t,id:t.id||Date.now().toString(),date:t.date||new Date().toISOString(),lastModified:t.lastModified||t.date||new Date().toISOString(),topic:t.topic||"Unknown Topic",messages:Array.isArray(t.messages)?t.messages:[],feedback:{score:typeof s.score=="number"?s.score:0,summary:s.summary||"No summary available.",strengths:Array.isArray(s.strengths)?s.strengths:[],weaknesses:Array.isArray(s.weaknesses)?s.weaknesses:[],advice:s.advice||"No advice available.",detailedReview:Array.isArray(s.detailedReview)?s.detailedReview:[],metrics:s.metrics||{logic:0,evidence:0,rebuttal:0,persuasion:0,consistency:0,constructiveness:0,objectivity:0,clarity:0},logicAnalysis:s.logicAnalysis,rhetoric:s.rhetoric,questioningAnalysis:s.questioningAnalysis,facilitation:s.facilitation,storyAnalysis:s.storyAnalysis,demoAnalysis:s.demoAnalysis,sessionMetrics:s.sessionMetrics,homeworkSuggestions:s.homeworkSuggestions,trainingRecommendations:s.trainingRecommendations}}},ss=t=>Array.isArray(t)?{schemaVersion:1,appVersion:"3.0.0",exportedAt:new Date().toISOString(),archives:t,settings:void 0}:t,as=t=>{const s=(t.archives||[]).map(a=>({...a,lastModified:a.lastModified||a.date||new Date().toISOString()}));return{...t,schemaVersion:2,archives:s}},rs=t=>{const s=t.userProfile||{pseudoUserId:`user_${Date.now().toString(36)}_${Math.random().toString(36).substr(2,5)}`,displayName:"Guest"},a=(t.archives||[]).map(Ve);return{...t,schemaVersion:3,userProfile:s,archives:a}},ls=t=>{console.log("Migration [3 -> 4]: Initializing Homework & WeaknessProfile");const s={lastUpdated:new Date().toISOString(),metrics:{}};return{...t,schemaVersion:4,homeworkTasks:t.homeworkTasks||[],weaknessProfile:t.weaknessProfile||s}},ns={0:ss,1:as,2:rs,3:ls},$e=t=>{let s=t,a=0;if(s)Array.isArray(s)?a=0:typeof s=="object"&&typeof s.schemaVersion=="number"&&(a=s.schemaVersion);else return He([]);for(;a<Ee;){const r=ns[a];if(!r)break;try{s=r(s),s.schemaVersion<=a&&(s.schemaVersion=a+1),a=s.schemaVersion}catch(l){console.error(`Migration failed at v${a}`,l);break}}return s},He=(t,s)=>{const a={userAgent:typeof navigator<"u"?navigator.userAgent:"unknown",platform:typeof navigator<"u"?navigator.platform:"unknown",language:typeof navigator<"u"?navigator.language:"unknown"},r={lastUpdated:new Date().toISOString(),metrics:{}};return{schemaVersion:Ee,appVersion:qe,exportedAt:new Date().toISOString(),deviceInfo:a,settings:s,archives:t.map(Ve),userProfile:{pseudoUserId:`user_${Date.now().toString(36)}`,displayName:"Guest"},homeworkTasks:[],weaknessProfile:r,meta:{generatedBy:"DebateMaster AI",totalArchives:t.length}}},os=t=>{const a=`debate_master_backup_${new Date().toISOString().replace(/[:.]/g,"-")}.json`,r=JSON.stringify(t,null,2),l=new Blob([r],{type:"application/json"}),m=URL.createObjectURL(l),o=document.createElement("a");o.href=m,o.download=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(m)},is=t=>!t||typeof t!="object"?!1:Array.isArray(t)||typeof t.schemaVersion=="number"||Array.isArray(t.archives),ds=(t,s)=>{const a=new Map;t.archives.forEach(l=>a.set(l.id,l)),s.archives.forEach(l=>{const m=a.get(l.id);if(!m)a.set(l.id,l);else{const o=new Date(m.lastModified||m.date).getTime();new Date(l.lastModified||l.date).getTime()>o&&a.set(l.id,l)}});const r=new Map;return t.homeworkTasks.forEach(l=>r.set(l.id,l)),s.homeworkTasks.forEach(l=>r.set(l.id,l)),{...t,archives:Array.from(a.values()),homeworkTasks:Array.from(r.values()),exportedAt:new Date().toISOString()}},cs=(t,s)=>{if(!s||s.length===0)return t;const a={...t.metrics};return s.forEach(r=>{const l=a[r.key]||{key:r.key,label:r.label,description:"",rate:{numerator:0,denominator:0},score:0,lastUpdated:new Date().toISOString(),sampleSize:0},m=l.rate.numerator+r.rate.numerator,o=l.rate.denominator+r.rate.denominator,c=o>0?Math.round(m/o*100):0;a[r.key]={...l,rate:{numerator:m,denominator:o},score:c,lastUpdated:new Date().toISOString(),sampleSize:o}}),{lastUpdated:new Date().toISOString(),metrics:a}},ms=(t,s)=>{const{showSuccess:a,showError:r}=ye();return{exportData:()=>{os(t)},importData:o=>new Promise(c=>{const n=new FileReader;n.onload=p=>{var i;try{const h=(i=p.target)==null?void 0:i.result,g=JSON.parse(h);if(!is(g)){r("ÁÑ°Âäπ„Å™„Éï„Ç°„Ç§„É´„Åß„Åô„ÄÇ"),c(!1);return}const x=$e(g),j=t.archives.length,v=x.archives.length,k=A=>A?A.replace(/[Ôºê-Ôºô]/g,M=>String.fromCharCode(M.charCodeAt(0)-65248)).trim():"",f=window.prompt(`„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóË™≠Ëæº (ÁèæÂú®„ÅÆ„Éá„Éº„Çø: ${j}‰ª∂, Ë™≠Ëæº„Éá„Éº„Çø: ${v}‰ª∂)
1: ÁµêÂêà (Merge)
2: ‰∏äÊõ∏„Åç (Replace)`,"1"),T=k(f);if(T==="1"){const A=ds(t,x);s(A),a("„Éá„Éº„Çø„ÇíÁµêÂêà„Åó„Åæ„Åó„Åü„ÄÇ"),c(!0)}else T==="2"&&window.confirm("„Éá„Éº„Çø„ÇíÂÖ®„Å¶‰∏äÊõ∏„Åç„Åó„Åæ„Åô„ÅãÔºü")?(s(x),a("„Éá„Éº„Çø„Çí‰∏äÊõ∏„Åç„Åó„Åæ„Åó„Åü„ÄÇ"),c(!0)):c(!1)}catch(h){console.error("‚ùå Failed to import backup:",h),r("Ë™≠Ëæº„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ"),c(!1)}},n.readAsText(o)})}},xs=()=>{const{showError:t}=ye(),[s,a]=u.useState(()=>{try{const i=localStorage.getItem(ve);if(i){const h=JSON.parse(i);return $e(h)}}catch(i){console.error("‚ùå Failed to load archives from storage:",i),t("‰øùÂ≠ò„Éá„Éº„Çø„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü")}return He([])});u.useEffect(()=>{if(s&&s.schemaVersion)try{localStorage.setItem(ve,JSON.stringify(s))}catch(i){console.error("‚ùå Failed to save archives to storage:",i),t("‰øùÂ≠ò„Éá„Éº„Çø„ÅÆÊõ∏„ÅçËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü")}},[s,t]);const{exportData:r,importData:l}=ms(s,a),m=(i,h)=>{a(g=>{const x=cs(g.weaknessProfile,i.feedback.sessionMetrics);return{...g,exportedAt:new Date().toISOString(),settings:h||g.settings,archives:[...g.archives,i],weaknessProfile:x}})},o=i=>{window.confirm("„Åì„ÅÆÂ±•Ê≠¥„ÇíÂâäÈô§„Åó„Å¶„ÇÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„ÅãÔºü")&&a(h=>({...h,archives:h.archives.filter(g=>g.id!==i)}))},c=i=>{a(h=>({...h,homeworkTasks:[...h.homeworkTasks,...i]}))},n=(i,h)=>{a(g=>({...g,homeworkTasks:g.homeworkTasks.map(x=>x.id===i?{...x,status:"completed",completedAt:new Date().toISOString(),evidence:{type:"text",content:h,createdAt:new Date().toISOString()}}:x)}))},p=i=>{a(h=>({...h,homeworkTasks:h.homeworkTasks.filter(g=>g.id!==i)}))};return{archives:s.archives,settings:s.settings,homeworkTasks:s.homeworkTasks,weaknessProfile:s.weaknessProfile,addArchive:m,deleteArchive:o,addHomework:c,completeHomework:n,deleteHomework:p,exportData:r,importData:l}},ps=(t,s)=>{const[a,r]=u.useState(0),[l,m]=u.useState(10),[o,c]=u.useState(0),[n,p]=u.useState(0);return u.useEffect(()=>{let i,h,g;if(t){const x=Math.min(Math.max(5,3+Math.floor(s*.5)),35);m(x),c(0),r(0);const j=100,k=95/(x*1e3/j);i=setInterval(()=>{r(f=>{if(f>=95)return Math.min(f+.05,99);const T=.5+Math.random();return Math.min(f+k*T,95)})},j),h=setInterval(()=>{c(f=>f+1)},1e3),g=setInterval(()=>{p(f=>(f+1)%Ae.length)},4e3)}else r(0),c(0);return()=>{i&&clearInterval(i),h&&clearInterval(h),g&&clearInterval(g)}},[t,s]),{progress:a,estimatedSeconds:l,elapsedSeconds:o,currentTip:Ae[n]}},hs=()=>{const[t,s]=u.useState(null),a=u.useCallback((o,c)=>{s(o);const n=Ze(o,c);switch(o.code){case se.QUOTA_EXCEEDED:V.error(n,{duration:8e3,icon:"‚ö†Ô∏è"});break;case se.SERVICE_UNAVAILABLE:V.error(n,{duration:6e3,icon:"üîß"});break;case se.TIMEOUT:V.error(n,{duration:5e3,icon:"‚è±Ô∏è"});break;case se.NETWORK_ERROR:V.error(n,{duration:5e3,icon:"üì°"});break;default:V.error(n,{duration:5e3});break}},[]),r=u.useCallback((o,c=3e3)=>{V.success(o,{duration:c})},[]),l=u.useCallback((o,c=3e3)=>{V(o,{duration:c,icon:"‚ÑπÔ∏è"})},[]),m=u.useCallback(()=>s(null),[]);return{lastError:t,handleError:a,handleSuccess:r,handleInfo:l,clearError:m}},he=45e3,ue=(t,s,a="ÈÄö‰ø°„Åå„Çø„Ç§„É†„Ç¢„Ç¶„Éà„Åó„Åæ„Åó„Åü")=>Promise.race([t,new Promise((r,l)=>setTimeout(()=>l(new Error(a)),s))]),us=({chatRef:t,settings:s,archives:a,setMessages:r,setIsSending:l,setScreen:m,setSettings:o,updateTokenUsage:c,handleError:n})=>{const p=u.useCallback(async x=>{r([]),l(!0);try{let j=x.weaknessProfile;if(x.mode===d.TRAINING&&!j){const f=await ue(Ce(a),he,"Âº±ÁÇπÂàÜÊûê„Åå„Çø„Ç§„É†„Ç¢„Ç¶„Éà„Åó„Åæ„Åó„Åü");j=f.profile,c(f.usage)}const v=et(x.topic,x.difficulty,[],x.mode,j,x.premises,x.facilitationSettings,x.debateType,x.thinkingFramework,x.storyScenario);if(t.current=v,m("chat"),[d.TRAINING,d.STUDY,d.DRILL,d.THINKING_GYM,d.DEMO,d.FACILITATION,d.STORY].includes(x.mode)){let f="";x.mode===d.TRAINING?f="„Éà„É¨„Éº„Éã„É≥„Ç∞„ÇíÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ":x.mode===d.STUDY?f=`„Äå${x.topic}„Äç„ÅÆ„É¨„ÇØ„ÉÅ„É£„Éº„ÇíÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`:x.mode===d.DRILL?f=`„Äå${x.topic}„Äç„ÅÆ„Éâ„É™„É´„ÇíÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`:x.mode===d.THINKING_GYM?f="ÊÄùËÄÉ„Ç∏„É†„ÅÆ„Éà„É¨„Éº„Éã„É≥„Ç∞„ÇíÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ":x.mode===d.DEMO?f="Ê®°ÁØÑ„Éá„Ç£„Éô„Éº„Éà„ÇíÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÊ¨°„ÅÆ„Çø„Éº„É≥„Å∏„ÄÇ":x.mode===d.FACILITATION?f="Ë≠∞Ë´ñ„ÇíÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åæ„Åö„ÅØA„Åï„Çì„Å®B„Åï„Çì„ÅÆ„Åù„Çå„Åû„Çå„ÅÆÁ´ãÂ†¥„ÇíÊòéÁ¢∫„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ":x.mode===d.STORY&&(f="„Ç∑„Éä„É™„Ç™„ÇíÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÁèæÁä∂„ÇíË™¨Êòé„Åó„ÄÅ‰ºöË≠∞„ÇíÂßã„ÇÅ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");const T=await ue(v.sendMessage({message:f}),he,"ÈñãÂßã„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÂèó‰ø°„Åå„Çø„Ç§„É†„Ç¢„Ç¶„Éà„Åó„Åæ„Åó„Åü„ÄÇÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");if(T.text){const A=ge(T.text);if(A){const M={id:Date.now().toString(),role:"model",text:A};r([M])}T.usageMetadata&&c({inputTokens:T.usageMetadata.promptTokenCount||0,outputTokens:T.usageMetadata.candidatesTokenCount||0,totalTokens:T.usageMetadata.totalTokenCount||0})}}}catch(j){console.error("Failed to start debate:",j);const v=le(j);n(v,"Ë≠∞Ë´ñ„ÅÆÈñãÂßã"),m("setup")}finally{l(!1)}},[t,a,r,l,m,c,n]),i=u.useCallback(x=>{o(x),x.mode===d.DEBATE?m("premise_check"):x.mode===d.TEXTBOOK?m("textbook"):x.mode===d.MINIGAME?m("minigame"):p(x)},[o,m,p]),h=u.useCallback((x,j)=>{if(s){j&&c(j);const v={...s,premises:x};o(v),p(v)}},[s,c,o,p]),g=u.useCallback(async x=>{if(t.current){l(!0);try{const j=x==="PRO"?"„ÅÇ„Å™„Åü„ÅØËÇØÂÆöÂÅ¥ÔºàPROÔºâ„Åß„Åô„ÄÇÂÖàÊîª„Å®„Åó„Å¶„ÄÅÁ´ãË´ñÔºàOpening StatementÔºâ„ÇíÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ":"„ÅÇ„Å™„Åü„ÅØÂê¶ÂÆöÂÅ¥ÔºàCONÔºâ„Åß„Åô„ÄÇÂÖàÊîª„Å®„Åó„Å¶„ÄÅÁ´ãË´ñÔºàOpening StatementÔºâ„ÇíÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",v=await ue(t.current.sendMessage({message:j}),he),k=v.text?ge(v.text):"";if(k){const f={id:Date.now().toString()+"_ai",role:"model",text:k};r([f]),v.usageMetadata&&c({inputTokens:v.usageMetadata.promptTokenCount||0,outputTokens:v.usageMetadata.candidatesTokenCount||0,totalTokens:v.usageMetadata.totalTokenCount||0})}}catch(j){console.error("Failed to start AI debate:",j);const v=le(j);n(v,"AIÂÖàÊîª„ÅÆÈñãÂßã")}finally{l(!1)}}},[t,l,r,c,n]);return{handleStartDebate:p,handleSetupComplete:i,handlePremiseConfirmed:h,handleAiStart:g}},gs=({chatRef:t,setMessages:s,setIsSending:a,updateTokenUsage:r,handleError:l})=>({handleSendMessage:u.useCallback(async o=>{if(!t.current)return;const c={id:Date.now().toString(),role:"user",text:o};s(i=>i?[...i,c]:[c]),a(!0);const n=Date.now().toString()+"_ai",p={id:n,role:"model",text:""};s(i=>[...i,p]);try{const i=await t.current.sendMessageStream({message:o});let h="",g;for await(const x of i){const j=x.text||"";h+=j;const v=ge(h);s(k=>k.map(f=>f.id===n?{...f,text:v}:f)),x.usageMetadata&&(g=tt(x))}g&&r(g)}catch(i){console.error("Chat error:",i);const h=le(i);l(h,"„É°„ÉÉ„Çª„Éº„Ç∏ÈÄÅ‰ø°"),s(g=>g.filter(x=>x.id!==n))}finally{a(!1)}},[t,s,a,r,l])}),bs=1500,fs=async(t,s)=>{const a=Date.now(),r=await t,l=Date.now()-a,m=s-l;return m>0&&await new Promise(o=>setTimeout(o,m)),r},js=({settings:t,messages:s,setFeedback:a,setScreen:r,setIsLoadingFeedback:l,updateTokenUsage:m,addArchive:o,handleError:c})=>({handleEndDebate:u.useCallback(async()=>{if(t){l(!0);try{const p=await fs(st(t,s,h=>{console.log(`Feedback generation progress: ${h.length} chars`)}),bs);a(p.data),m(p.usage),r("feedback");const i={id:Date.now().toString(),date:new Date().toISOString(),topic:t.topic,messages:s,feedback:p.data};o(i,t)}catch(p){console.error(p);const i=le(p);c(i,"„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØÁîüÊàê")}finally{l(!1)}}},[t,s,a,r,l,m,o,c])}),ys=t=>{const s=u.useRef([]),a=u.useRef(null),r=100;return u.useCallback(m=>{s.current.push(m),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{if(s.current.length===0)return;const o=s.current.reduce((c,n)=>({inputTokens:c.inputTokens+n.inputTokens,outputTokens:c.outputTokens+n.outputTokens,totalTokens:c.totalTokens+n.totalTokens}),{inputTokens:0,outputTokens:0,totalTokens:0});console.log(`üì¶ Token batch update: ${s.current.length} updates merged into 1 (total: ${o.totalTokens} tokens)`),t(o),s.current=[],a.current=null},r)},[t])},Ns=()=>{const[t,s]=u.useState("setup"),[a,r]=u.useState(null),[l,m]=u.useState([]),[o,c]=u.useState(!1),[n,p]=u.useState(null),[i,h]=u.useState({inputTokens:0,outputTokens:0,totalTokens:0}),[g,x]=u.useState(!1),[j,v]=u.useState(!1),k=u.useRef(null),{archives:f,homeworkTasks:T,addArchive:A,deleteArchive:M,addHomework:z,completeHomework:O,deleteHomework:_,exportData:R,importData:L}=xs(),{progress:P,estimatedSeconds:B,elapsedSeconds:H,currentTip:U}=ps(j,l.length),{handleError:C}=hs(),G=N=>{h(w=>({inputTokens:w.inputTokens+N.inputTokens,outputTokens:w.outputTokens+N.outputTokens,totalTokens:w.totalTokens+N.totalTokens}))},F=ys(G),E=us({chatRef:k,settings:a,archives:f,setMessages:m,setIsSending:c,setScreen:s,setSettings:r,updateTokenUsage:F,handleError:C}),y=gs({chatRef:k,setMessages:m,setIsSending:c,updateTokenUsage:F,handleError:C}),I=js({settings:a,messages:l,setFeedback:p,setScreen:s,setIsLoadingFeedback:v,updateTokenUsage:F,addArchive:A,handleError:C}),Q=N=>{p(null),x(!1),E.handleSetupComplete(N)},me=()=>{s("setup"),r(null),m([]),p(null),x(!1),k.current=null},X=N=>{m(N.messages),p(N.feedback),x(!0),r({topic:N.topic,difficulty:S.NORMAL,mode:d.DEBATE}),s("feedback")},b=N=>{const w={topic:"Training Session",difficulty:S.NORMAL,mode:d.DEBATE};switch(N.actionType){case"open_minigame":N.actionPayload.minigameType&&(w.mode=d.MINIGAME,w.miniGameType=N.actionPayload.minigameType,r(w),s("minigame"));break;case"start_drill":N.actionPayload.drillTopic&&(w.mode=d.DRILL,w.topic=N.actionPayload.drillTopic,r(w),E.handleStartDebate(w));break;case"start_study":N.actionPayload.studyTopic&&(w.mode=d.STUDY,w.topic=N.actionPayload.studyTopic,r(w),E.handleStartDebate(w));break;case"open_thinking_gym":N.actionPayload.thinkingFramework&&(w.mode=d.THINKING_GYM,w.topic="Thinking Gym",w.thinkingFramework=N.actionPayload.thinkingFramework,r(w),E.handleStartDebate(w));break;case"open_textbook":w.mode=d.TEXTBOOK,N.actionPayload.textbookChapterId&&(w.textbookChapterId=N.actionPayload.textbookChapterId),r(w),s("textbook");break}};return{screen:t,setScreen:s,settings:a,messages:l,setMessages:m,isSending:o,feedback:n,tokenUsage:i,archives:f,homeworkTasks:T,viewingArchive:g,updateTokenUsage:G,isLoadingFeedback:j,loadingProgress:P,estimatedSeconds:B,elapsedSeconds:H,currentTip:U,handleSetupComplete:Q,handlePremiseConfirmed:E.handlePremiseConfirmed,handleSendMessage:y.handleSendMessage,handleAiStart:E.handleAiStart,handleEndDebate:I.handleEndDebate,handleReset:me,handleSelectArchive:X,handleDeleteArchive:M,handleAddHomework:z,handleCompleteHomework:O,handleDeleteHomework:_,handleExportData:R,handleImportData:L,handleNavigateToTraining:b}},vs=u.lazy(()=>K(()=>import("./chat-DWKbrCFW.js").then(t=>t.z),__vite__mapDeps([0,1,2,3])).then(t=>({default:t.ChatScreen}))),ws=u.lazy(()=>K(()=>import("./FeedbackScreen-BKgrLrzn.js"),__vite__mapDeps([4,2,1,0,3,5])).then(t=>({default:t.FeedbackScreen}))),ks=u.lazy(()=>K(()=>import("./PremiseCheckScreen-CU6nRRMB.js"),__vite__mapDeps([6,2,1,0,3])).then(t=>({default:t.PremiseCheckScreen}))),Ts=u.lazy(()=>K(()=>import("./TextbookScreen-DsY4XKdf.js"),__vite__mapDeps([7,2,1,0,3])).then(t=>({default:t.TextbookScreen}))),Ss=u.lazy(()=>K(()=>import("./MiniGameScreen-BQW3GgnW.js"),__vite__mapDeps([8,2,1,0,3])).then(t=>({default:t.MiniGameScreen}))),As=u.lazy(()=>K(()=>import("./HistoryScreen-CKcwhHO6.js"),__vite__mapDeps([9,2,1,0,3])).then(t=>({default:t.HistoryScreen})));function Is(){const{screen:t,setScreen:s,settings:a,messages:r,setMessages:l,isSending:m,feedback:o,tokenUsage:c,archives:n,homeworkTasks:p,viewingArchive:i,updateTokenUsage:h,isLoadingFeedback:g,loadingProgress:x,estimatedSeconds:j,elapsedSeconds:v,currentTip:k,handleSetupComplete:f,handlePremiseConfirmed:T,handleSendMessage:A,handleAiStart:M,handleEndDebate:z,handleReset:O,handleSelectArchive:_,handleDeleteArchive:R,handleAddHomework:L,handleCompleteHomework:P,handleDeleteHomework:B,handleExportData:H,handleImportData:U,handleNavigateToTraining:C}=Ns(),G=(F,E)=>{l(y=>y.map(I=>I.id===F?{...I,structureAnalysis:E}:I))};return e.jsxs("div",{className:"h-full bg-slate-50",children:[e.jsx(Ye,{position:"top-center",toastOptions:{duration:5e3,style:{background:"#fff",color:"#1e293b",padding:"16px",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.1)",maxWidth:"500px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"},duration:7e3}}}),t==="setup"&&e.jsx(es,{onStart:f,onTokenUpdate:h,tokenUsage:c,archives:n,homeworkTasks:p,onCompleteHomework:P,onDeleteHomework:B,onShowHistory:()=>s("history")}),e.jsxs(u.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),e.jsx("p",{className:"text-slate-600 font-medium",children:"Ë™≠„ÅøËæº„Åø‰∏≠..."})]})}),children:[t==="history"&&e.jsx(As,{archives:n,onSelect:_,onDelete:R,onBack:()=>s("setup"),onExport:H,onImport:U}),t==="premise_check"&&a&&e.jsx(ks,{settings:a,onConfirm:T,onBack:()=>s("setup"),onTokenUpdate:h}),t==="textbook"&&e.jsx(Ts,{onBack:O,onTokenUpdate:h,initialChapterId:a==null?void 0:a.textbookChapterId}),t==="minigame"&&e.jsx(Ss,{miniGameType:a==null?void 0:a.miniGameType,onBack:O,onTokenUpdate:h}),t==="chat"&&a&&e.jsx(vs,{messages:r,settings:a,isSending:m,onSendMessage:A,onAiStart:M,onEndDebate:z,tokenUsage:c,onTokenUpdate:h,onBackToTop:O,onStructureAnalysisComplete:G,homeworkTasks:p,onCompleteHomework:P,onDeleteHomework:B}),t==="feedback"&&o&&e.jsx(ws,{feedback:o,messages:r,onReset:O,tokenUsage:c,isArchiveView:i,onAddHomework:L,onBackToHistory:()=>s("history"),onNavigate:C})]}),e.jsx(ts,{isVisible:g,progress:x,estimatedSeconds:j,elapsedSeconds:v,currentTip:k})]})}const Ue=document.getElementById("root");if(!Ue)throw new Error("Root element not found");const Cs=We.createRoot(Ue);Cs.render(e.jsx(Ke.StrictMode,{children:e.jsx(Is,{})}));
